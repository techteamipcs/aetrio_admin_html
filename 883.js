"use strict";(self.webpackChunkaetrio_dashboard_angular=self.webpackChunkaetrio_dashboard_angular||[]).push([[883],{9883:(V,T,d)=>{d.r(T),d.d(T,{TagModule:()=>R});var m=d(6895),h=d(529),s=d(433),_=d(6913),Z=d(9207),l=d(8869),t=d(4650),g=d(2340),u=d(262),c=d(2843);let v=(()=>{class a{constructor(e){this.http=e,this.addTag=i=>this.http.post(g.N.baseUrl+"/api/blog/addtag",i,this.getRequestHeaders()).pipe((0,u.K)(r=>(0,c._)(r))),this.getTagDetails=i=>this.http.post(g.N.baseUrl+"/api/blog/adminsidetags",i,this.getRequestHeaders()).pipe((0,u.K)(r=>(0,c._)(r))),this.getTagWithId=i=>this.http.post(g.N.baseUrl+"/api/blog/getTagWithId",i,this.getRequestHeaders()).pipe((0,u.K)(r=>(0,c._)(r))),this.editTagdata=(i,o)=>{let r=g.N.baseUrl+"/api/blog/editTagdata";return o&&(r+=`?id=${o}`),this.http.post(r,i,this.getRequestHeaders()).pipe((0,u.K)(p=>(0,c._)(p)))},this.deletetag=i=>this.http.post(g.N.baseUrl+"/api/blog/deletetag",i,this.getRequestHeaders()).pipe((0,u.K)(r=>(0,c._)(r)))}getRequestHeaders(){let e;const i=localStorage.getItem("aetrio-token");return e=new h.WM({Authorization:`Bearer ${i}`}),{headers:e}}}return a.\u0275fac=function(e){return new(e||a)(t.LFG(h.eN))},a.\u0275prov=t.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();var A=d(6570);const q=["uploader"];function x(a,n){if(1&a&&(t.TgZ(0,"div",37),t._uU(1),t.qZA()),2&a){const e=t.oxw();t.xp6(1),t.hij(" ",e.throw_msg," ")}}function U(a,n){if(1&a&&(t.TgZ(0,"div",38),t._uU(1),t.qZA()),2&a){const e=t.oxw();t.xp6(1),t.hij(" ",e.throw_msg," ")}}function y(a,n){1&a&&(t.TgZ(0,"span",39),t._uU(1,"Tag Name is required"),t.qZA())}function C(a,n){if(1&a&&t._UZ(0,"img",40),2&a){const e=t.oxw();t.hYB("src","",e.imagePath,"",e.tagImage,"",t.LSH)}}function I(a,n){1&a&&(t.TgZ(0,"span",39),t._uU(1,"Description is required"),t.qZA())}function w(a,n){1&a&&(t.TgZ(0,"span",39),t._uU(1,"Meta Title is required"),t.qZA())}function N(a,n){1&a&&(t.TgZ(0,"span",39),t._uU(1,"Meta Keywords is required"),t.qZA())}function S(a,n){1&a&&(t.TgZ(0,"span",39),t._uU(1,"Meta Description is required"),t.qZA())}let b=(()=>{class a{constructor(e,i,o,r,p){this.formBuilder=e,this.router=i,this.route=o,this.tagService=r,this.toastr=p,this.submitted=!1,this.msg_success=!1,this.msg_danger=!1,this.isEdit="edit"===this.route.snapshot.data.title,this.editorConfig={editable:!0,spellcheck:!0,height:"auto",minHeight:"200px",maxHeight:"auto",width:"auto",minWidth:"0",translate:"yes",enableToolbar:!0,showToolbar:!0,placeholder:"Enter text here...",defaultParagraphSeparator:"",defaultFontName:"",defaultFontSize:"",fonts:[{class:"career_box",name:"Rajdhani sans-serif"}]},this.hasError=(H,L)=>this.addTagForm.controls[H].hasError(L),this.uploadInput=new t.vpe,this.addTagForm=this.formBuilder.group({name:["",s.kI.required],status:["false",s.kI.required],description:["",s.kI.required],meta_description:["",s.kI.required],meta_title:["",s.kI.required],meta_keywords:["",s.kI.required]}),this.imagePath=g.N.baseUrl+"/public/"}ngOnInit(){this.id=this.route.snapshot.paramMap.get("id"),this.isEdit?(this.patchingdata(this.id),this.applyAction="Update"):this.applyAction="Add"}patchingdata(e){this.tagService.getTagWithId({id:e}).subscribe(o=>{if(200==o.code){let r=o?.result;this.tagImage=r?.image,this.addTagForm.patchValue({name:r?.name,description:r?.description,status:r?.isDeleted,meta_description:r?.meta_description,meta_title:r?.meta_title,meta_keywords:r?.meta_keywords})}})}onSubmit(){this.submitted=!0;let e=this.addTagForm.value,i=this.id;e.image=this.tagImage,!this.addTagForm.invalid&&(this.isEdit?this.tagService.editTagdata(e,i).subscribe(o=>{200==o.code?(this.toastr.successToastr(o.message),setTimeout(()=>{this.router.navigate(["/tag/view"])},2e3)):this.toastr.errorToastr(o.message)}):this.tagService.addTag(e).subscribe(o=>{200==o.code?(this.toastr.successToastr(o.message),setTimeout(()=>{this.router.navigate(["/tag/view"])},2e3)):400==o.code&&(this.tagtexist=o.message,this.toastr.errorToastr(o.message))}))}onUploadOutput(e){"allAddedToQueue"===e.type?this.uploadInput.emit({type:"uploadAll",url:g.N.baseUrl+"/api/home/addimage",method:"POST",data:{}}):"done"===e.type&&typeof e.file<"u"&&(this.tagImage=e.file.response.result)}onCancel(){this.router.navigate(["/author/view"])}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(s.qu),t.Y36(l.F0),t.Y36(l.gz),t.Y36(v),t.Y36(A.eP))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-add-tag"]],viewQuery:function(e,i){if(1&e&&t.Gf(q,5,t.SBq),2&e){let o;t.iGM(o=t.CRH())&&(i.fileInput=o.first)}},decls:69,vars:11,consts:[[1,"header","pb-8","pt-5","pt-lg-8","d-flex","align-items-center",2,"min-height","400px","background-size","cover","background-position","center top"],[1,"mask","bg-gradient-info","opacity-8"],[1,"container-fluid","d-flex","align-items-center"],[1,"row"],[1,"col-lg-7","col-md-10"],[1,"display-2","text-white"],[1,"text-white","mt-0","mb-5"],[1,"container-fluid","mt--7"],[1,"col-xl-12","order-xl-1"],[1,"card","bg-secondary","shadow"],[1,"card-header","bg-white","border-0"],[1,"row","align-items-center"],[1,"col-8"],[1,"mb-0"],["class","alert alert-success alert-dismissable","style","margin-left: 0;",4,"ngIf"],["class","alert alert-danger alert-dismissable","style","margin-left: 0;",4,"ngIf"],[1,"card-body"],["method","post","novalidate","",3,"formGroup","ngSubmit"],[1,"box-body"],[1,"form-group"],["for","exampleInputEmail1"],["type","text","name","name","autocomplete","off","formControlName","name","placeholder","Tag Name",1,"form-control"],["class","alert-danger",4,"ngIf"],["type","file","ngFileSelect","",3,"uploadInput","uploadOutput"],["uploader",""],["for","exampleInputEmail1",2,"display","block"],["alt","logo","style","height: 100px; width: 100px;",3,"src",4,"ngIf"],["name","description","formControlName","description",3,"config"],["type","text","name","meta_title","autocomplete","off","formControlName","meta_title","placeholder","Meta Title",1,"form-control"],["type","text","name","meta_keywords","autocomplete","off","formControlName","meta_keywords","placeholder","Meta Keywords",1,"form-control"],["name","meta_description","autocomplete","off","formControlName","meta_description","placeholder","Meta Description",1,"form-control"],["name","status","formControlName","status",1,"form-control"],["value","false"],["value","true"],[1,"box-footer"],["type","submit",1,"btn","btn-primary"],["type","cancel",1,"btn","btn-danger",3,"click"],[1,"alert","alert-success","alert-dismissable",2,"margin-left","0"],[1,"alert","alert-danger","alert-dismissable",2,"margin-left","0"],[1,"alert-danger"],["alt","logo",2,"height","100px","width","100px",3,"src"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t._UZ(1,"span",1),t.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"h1",5),t._uU(6,"Single Tag "),t.qZA(),t.TgZ(7,"p",6),t._uU(8,"This is your profile page. You can see the progress you've made with your work and manage your projects or assigned tasks"),t.qZA()()()()(),t.TgZ(9,"div",7)(10,"div",3)(11,"div",8)(12,"div",9)(13,"div",10)(14,"div",11)(15,"div",12)(16,"h3",13),t._uU(17,"Edit Tag"),t.qZA()()(),t.YNc(18,x,2,1,"div",14),t.YNc(19,U,2,1,"div",15),t.qZA(),t.TgZ(20,"div",16)(21,"form",17),t.NdJ("ngSubmit",function(){return i.onSubmit()}),t.TgZ(22,"div",18)(23,"div",19)(24,"label",20),t._uU(25,"Name"),t.qZA(),t._UZ(26,"input",21),t.YNc(27,y,2,0,"span",22),t.qZA(),t.TgZ(28,"div",19)(29,"label",20),t._uU(30,"Tag Image"),t.qZA(),t.TgZ(31,"input",23,24),t.NdJ("uploadOutput",function(r){return i.onUploadOutput(r)}),t.qZA(),t.TgZ(33,"label",25),t._uU(34,"(Required Size 141 * 141)"),t.qZA(),t.YNc(35,C,1,2,"img",26),t.qZA(),t.TgZ(36,"div",19)(37,"label",20),t._uU(38,"Description"),t.qZA(),t._UZ(39,"angular-editor",27),t.YNc(40,I,2,0,"span",22),t.qZA(),t.TgZ(41,"div",19)(42,"label",20),t._uU(43,"Meta Title"),t.qZA(),t._UZ(44,"input",28),t.YNc(45,w,2,0,"span",22),t.qZA(),t.TgZ(46,"div",19)(47,"label",20),t._uU(48,"Meta Keywords"),t.qZA(),t._UZ(49,"input",29),t.YNc(50,N,2,0,"span",22),t.qZA(),t.TgZ(51,"div",19)(52,"label",20),t._uU(53,"Meta Description"),t.qZA(),t._UZ(54,"textarea",30),t.YNc(55,S,2,0,"span",22),t.qZA(),t.TgZ(56,"div",19)(57,"label",20),t._uU(58,"Status"),t.qZA(),t.TgZ(59,"select",31)(60,"option",32),t._uU(61,"Active"),t.qZA(),t.TgZ(62,"option",33),t._uU(63,"InActive"),t.qZA()()()(),t.TgZ(64,"div",34)(65,"button",35),t._uU(66,"Submit"),t.qZA(),t.TgZ(67,"button",36),t.NdJ("click",function(){return i.onCancel()}),t._uU(68,"Cancel"),t.qZA()()()()()()()()),2&e&&(t.xp6(18),t.Q6J("ngIf",i.msg_success),t.xp6(1),t.Q6J("ngIf",i.msg_danger),t.xp6(2),t.Q6J("formGroup",i.addTagForm),t.xp6(6),t.Q6J("ngIf",i.submitted&&i.hasError("name","required")),t.xp6(4),t.Q6J("uploadInput",i.uploadInput),t.xp6(4),t.Q6J("ngIf",i.tagImage),t.xp6(4),t.Q6J("config",i.editorConfig),t.xp6(1),t.Q6J("ngIf",i.submitted&&i.hasError("description","required")),t.xp6(5),t.Q6J("ngIf",i.submitted&&i.hasError("meta_title","required")),t.xp6(5),t.Q6J("ngIf",i.submitted&&i.hasError("meta_keywords","required")),t.xp6(5),t.Q6J("ngIf",i.submitted&&i.hasError("meta_description","required")))},dependencies:[m.O5,s._Y,s.YN,s.Kr,s.Fj,s.EJ,s.JJ,s.JL,s.sg,s.u,_.qx,Z.s6]}),a})();var J=d(8601);function M(a,n){1&a&&(t.TgZ(0,"td",18)(1,"div",19),t._uU(2," Tag List is Empty "),t.qZA()())}function Y(a,n){1&a&&(t.TgZ(0,"td"),t._uU(1,"Active"),t.qZA())}function k(a,n){1&a&&(t.TgZ(0,"td"),t._uU(1,"InActive"),t.qZA())}function F(a,n){if(1&a){const e=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._UZ(4,"img",20),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.YNc(7,Y,2,0,"td",21),t.YNc(8,k,2,0,"td",21),t.TgZ(9,"td")(10,"a",22),t._UZ(11,"i",23),t.qZA(),t.TgZ(12,"a",24),t.NdJ("click",function(){const r=t.CHM(e).$implicit,p=t.oxw();return t.KtG(p.deletetag(r._id))}),t._UZ(13,"i",25),t.qZA()()()}if(2&a){const e=n.$implicit,i=t.oxw();t.xp6(2),t.Oqu(e.name),t.xp6(2),t.hYB("src","",i.imagePath,"",e.image,"",t.LSH),t.xp6(2),t.Oqu(e.description),t.xp6(1),t.Q6J("ngIf",0==e.isDeleted),t.xp6(1),t.Q6J("ngIf",1==e.isDeleted),t.xp6(2),t.MGl("routerLink","/tag/edit/",e._id,"")}}function P(a,n){if(1&a){const e=t.EpF();t.TgZ(0,"div",26)(1,"app-pagination",27,28),t.NdJ("changePage",function(o){t.CHM(e);const r=t.oxw();return t.KtG(r.onListChangePage(o))}),t.qZA()()}if(2&a){const e=t.oxw();t.xp6(1),t.Q6J("initialPage",e.currentPage)("count",e.totalRecord)}}let Q=(()=>{class a{constructor(e,i){this.router=e,this.tagService=i,this.msg_danger=!1,this.currentPage=1,this.initialized=!1,this.currentLimit=10,this.totalRecord=0,this.imagePath=g.N.baseUrl+"/public/"}ngOnInit(){this.get_tagData()}get_tagData(){this.tagService.getTagDetails({limit:this.currentLimit,page:this.currentPage}).subscribe(i=>{200==i.code&&(null!=i.result&&""!=i.result?(this.tagData=i.result,this.totalRecord=i?.count):this.msg_danger=!0)})}onListChangePage(e){this.currentPage=e,this.get_tagData()}deletetag(e){confirm("Are you sure to delete this tag")&&this.tagService.deletetag({id:e}).subscribe(o=>{200==o.code&&(this.get_tagData(),this.router.navigate(["/tag/view"]))})}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(l.F0),t.Y36(v))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-view-tag"]],decls:37,vars:3,consts:[[1,"header","bg-gradient-info","pb-8","pt-5","pt-md-8"],[1,"container-fluid"],[1,"header-body"],[1,"container-fluid","mt--7"],[1,"row"],[1,"col"],[1,"card","shadow"],[1,"card-header","border-0"],[1,"mb-0"],[1,"col-md-12"],[1,"col-md-6"],[1,"title"],["type","button","routerLink","/tag/add",1,"btn","btn-primary","pull-right"],[1,"table-responsive"],[1,"table","align-items-center","table-flush"],["colspan","5",4,"ngIf"],[4,"ngFor","ngForOf"],["class","aetrio-pagination",4,"ngIf"],["colspan","5"],[1,"alert","alert-dismissable",2,"text-align","center"],["alt","logo",2,"height","100px","width","100px",3,"src"],[4,"ngIf"],[2,"cursor","pointer",3,"routerLink"],["aria-hidden","true",1,"fa","fa-pencil-square-o"],[2,"cursor","pointer","padding-left","15px",3,"click"],["aria-hidden","true",1,"fa","fa-trash-o"],[1,"aetrio-pagination"],[3,"initialPage","count","changePage"],["pagination",""]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1),t._UZ(2,"div",2),t.qZA()(),t.TgZ(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"h3",8),t._uU(9,"Tag List"),t.qZA()(),t.TgZ(10,"div",9)(11,"div",4)(12,"div",10),t._UZ(13,"h4",11),t.qZA(),t.TgZ(14,"div",10)(15,"button",12),t._uU(16,"Add Tag"),t.qZA()()(),t.TgZ(17,"div",10),t._UZ(18,"h4",11),t.qZA()(),t.TgZ(19,"div",13)(20,"table",14)(21,"thead")(22,"tr")(23,"th"),t._uU(24,"Tag Name"),t.qZA(),t.TgZ(25,"th"),t._uU(26,"Tag Image"),t.qZA(),t.TgZ(27,"th"),t._uU(28,"Tag Description"),t.qZA(),t.TgZ(29,"th"),t._uU(30,"Status"),t.qZA(),t.TgZ(31,"th"),t._uU(32,"Action"),t.qZA()()(),t.TgZ(33,"tbody"),t.YNc(34,M,3,0,"td",15),t.YNc(35,F,14,7,"tr",16),t.qZA()(),t.YNc(36,P,3,2,"div",17),t.qZA()()()()()),2&e&&(t.xp6(34),t.Q6J("ngIf",i.msg_danger),t.xp6(1),t.Q6J("ngForOf",i.tagData),t.xp6(1),t.Q6J("ngIf",i.totalRecord>0))},dependencies:[m.sg,m.O5,l.rH,l.yS,J.Q],styles:[".aetrio-pagination[_ngcontent-%COMP%]{display:inline-block;width:100%;text-align:center;background-color:#36aef5}.btn-primary[_ngcontent-%COMP%]{color:#fff;background-color:#423f3f;border-color:#423f3f}.title[_ngcontent-%COMP%]{font-size:30px}"]}),a})();var f=d(5826);const E=[{path:"add",component:b,canActivate:[f.a]},{path:"edit/:id",component:b,canActivate:[f.a],data:{title:"edit"}},{path:"view",component:Q,canActivate:[f.a]}];let D=(()=>{class a{}return a.\u0275fac=function(e){return new(e||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[l.Bz.forChild(E),l.Bz]}),a})();var O=d(6849);let R=(()=>{class a{}return a.\u0275fac=function(e){return new(e||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[m.ez,D,h.JF,s.u5,s.UX,_.TA,Z.UM,O.BlogModule]}),a})()}}]);