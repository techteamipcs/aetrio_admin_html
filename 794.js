"use strict";(self.webpackChunkaetrio_dashboard_angular=self.webpackChunkaetrio_dashboard_angular||[]).push([[794],{4794:(H,y,o)=>{o.r(y),o.d(y,{GalleryModule:()=>z});var h=o(6895),m=o(529),s=o(433),v=o(6913),A=o(9207),c=o(8869),f=o(5826),e=o(4650),d=o(2340),g=o(262),u=o(2843);let _=(()=>{class a{constructor(i){this.http=i,this.addGallery=t=>this.http.post(d.N.baseUrl+"/api/gallery/addgallery",t,this.getRequestHeaders()).pipe((0,g.K)(r=>(0,u._)(r))),this.editGallerydata=(t,l)=>{let r=d.N.baseUrl+"/api/gallery/editGallerydata";return l&&(r+=`?id=${l}`),this.http.post(r,t,this.getRequestHeaders()).pipe((0,g.K)(p=>(0,u._)(p)))},this.getGalleryWithId=t=>this.http.post(d.N.baseUrl+"/api/gallery/getGalleryWithId",t,this.getRequestHeaders()).pipe((0,g.K)(r=>(0,u._)(r))),this.getGalleryDetails=t=>this.http.post(d.N.baseUrl+"/api/gallery/viewallGallery",t,this.getRequestHeaders()).pipe((0,g.K)(r=>(0,u._)(r))),this.getAllGallery=t=>this.http.post(d.N.baseUrl+"/api/gallery/getAllGallery",t,this.getRequestHeaders()).pipe((0,g.K)(r=>(0,u._)(r))),this.deletegallery=t=>this.http.post(d.N.baseUrl+"/api/gallery/deletegallery",t,this.getRequestHeaders()).pipe((0,g.K)(r=>(0,u._)(r))),this.getCategories=t=>this.http.post(d.N.baseUrl+"/api/gallery/getAllGallery",t,this.getRequestHeaders()).pipe((0,g.K)(r=>(0,u._)(r)))}getRequestHeaders(){let i;const t=localStorage.getItem("aetrio-token");return i=new m.WM({Authorization:`Bearer ${t}`}),{headers:i}}}return a.\u0275fac=function(i){return new(i||a)(e.LFG(m.eN))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const T=["uploader"];function C(a,n){if(1&a&&(e.TgZ(0,"div",33),e._uU(1),e.qZA()),2&a){const i=e.oxw();e.xp6(1),e.hij(" ",i.throw_msg," ")}}function x(a,n){if(1&a&&(e.TgZ(0,"div",34),e._uU(1),e.qZA()),2&a){const i=e.oxw();e.xp6(1),e.hij(" ",i.throw_msg," ")}}function w(a,n){1&a&&(e.TgZ(0,"span",35),e._uU(1,"Gallery Name is required"),e.qZA())}function U(a,n){1&a&&(e.TgZ(0,"span",35),e._uU(1,"Please Select Art"),e.qZA())}function k(a,n){if(1&a&&e._UZ(0,"img",36),2&a){const i=e.oxw();e.hYB("src","",i.imagePath,"",i.galleryImage,"",e.LSH)}}let Z=(()=>{class a{constructor(i,t,l,r){this.router=i,this.route=t,this.formBuilder=l,this.galleryService=r,this.imageArr=[],this.submitted=!1,this.msg_success=!1,this.msg_danger=!1,this.isEdit="edit"===this.route.snapshot.data.title,this.editorConfig={editable:!0,spellcheck:!0,height:"auto",minHeight:"200px",maxHeight:"auto",width:"auto",minWidth:"0",translate:"yes",enableToolbar:!0,showToolbar:!0,placeholder:"Enter text here...",defaultParagraphSeparator:"",defaultFontName:"",defaultFontSize:"",fonts:[{class:"blog-descriptiondetail",name:"Rajdhani sans-serif"}]},this.hasError=(p,E)=>this.addgalleryForm.controls[p].hasError(E),this.uploadInput=new e.vpe,this.addgalleryForm=this.formBuilder.group({name:["",s.kI.required],status:[!0,s.kI.required]}),this.token=localStorage.getItem("token"),this.imagePath=d.N.baseUrl+"/public/"}ngOnInit(){this.id=this.route.snapshot.paramMap.get("id"),this.isEdit?(this.patchingdata(this.id),this.applyAction="Update"):this.applyAction="Add"}patchingdata(i){this.galleryService.getGalleryWithId({id:i}).subscribe(l=>{if(200==l.code){let r=l?.result;this.galleryImage=r?.image,this.addgalleryForm.patchValue({name:r?.name,status:r?.status})}})}onSubmit(){this.submitted=!0;let i=this.addgalleryForm.value,t=this.id;i.token=this.token,i.image=this.galleryImage,!this.addgalleryForm.invalid&&(this.isEdit?this.galleryService.editGallerydata(i,t).subscribe(l=>{200==l.code&&(this.throw_msg=l.message,this.msg_success=!0,setTimeout(()=>{this.router.navigate(["/gallery/view"])},2e3))}):this.galleryService.addGallery(i).subscribe(l=>{200==l.code?(this.throw_msg=l.message,this.msg_success=!0,setTimeout(()=>{this.router.navigate(["/gallery/view"])},2e3)):400==l.code&&(this.throw_msg=l.message,this.msg_danger=!0)}))}onUploadOutput(i){"allAddedToQueue"===i.type?this.uploadInput.emit({type:"uploadAll",url:d.N.baseUrl+"/api/gallery/addimage",method:"POST",data:{}}):"done"===i.type&&typeof i.file<"u"&&(this.galleryImage=i.file.response.result)}onCancel(){this.router.navigate(["/gallery/view"])}}return a.\u0275fac=function(i){return new(i||a)(e.Y36(c.F0),e.Y36(c.gz),e.Y36(s.qu),e.Y36(_))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-add-gallery"]],viewQuery:function(i,t){if(1&i&&e.Gf(T,5,e.SBq),2&i){let l;e.iGM(l=e.CRH())&&(t.fileInput=l.first)}},decls:52,vars:7,consts:[[1,"header","pb-8","pt-5","pt-lg-8","d-flex","align-items-center",2,"min-height","400px","background-size","cover","background-position","center top"],[1,"mask","bg-gradient-info","opacity-8"],[1,"container-fluid","d-flex","align-items-center"],[1,"row"],[1,"col-lg-7","col-md-10"],[1,"display-2","text-white"],[1,"text-white","mt-0","mb-5"],[1,"container-fluid","mt--7"],[1,"col-xl-12","order-xl-1"],[1,"card","bg-secondary","shadow"],[1,"card-header","bg-white","border-0"],[1,"row","align-items-center"],[1,"col-8"],[1,"mb-0"],["class","alert alert-success alert-dismissable","style","margin-left: 0;",4,"ngIf"],["class","alert alert-danger alert-dismissable","style","margin-left: 0;",4,"ngIf"],[1,"card-body"],["method","post","novalidate","",3,"formGroup","ngSubmit"],[1,"box-body"],[1,"form-group"],["for","exampleInputEmail1"],["type","text","name","name","autocomplete","off","formControlName","name","placeholder","Gallery Name",1,"form-control"],["class","alert-danger",4,"ngIf"],["name","status","formControlName","status",1,"form-control"],["value",""],["value","true"],["value","false"],["type","file","ngFileSelect","",3,"uploadInput","uploadOutput"],["uploader",""],["alt","logo","style","height: 100px; width: 100px;margin-top: 5px;",3,"src",4,"ngIf"],[1,"box-footer"],["type","submit",1,"btn","btn-primary"],["type","cancel",1,"btn","btn-danger",3,"click"],[1,"alert","alert-success","alert-dismissable",2,"margin-left","0"],[1,"alert","alert-danger","alert-dismissable",2,"margin-left","0"],[1,"alert-danger"],["alt","logo",2,"height","100px","width","100px","margin-top","5px",3,"src"]],template:function(i,t){1&i&&(e.TgZ(0,"div",0),e._UZ(1,"span",1),e.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"h1",5),e._uU(6,"Gallery Images "),e.qZA(),e.TgZ(7,"p",6),e._uU(8,"This is your profile page. You can see the progress you've made with your work and manage your projects or assigned tasks"),e.qZA()()()()(),e.TgZ(9,"div",7)(10,"div",3)(11,"div",8)(12,"div",9)(13,"div",10)(14,"div",11)(15,"div",12)(16,"h3",13),e._uU(17,"Edit Gallery"),e.qZA()()(),e.YNc(18,C,2,1,"div",14),e.YNc(19,x,2,1,"div",15),e.qZA(),e.TgZ(20,"div",16)(21,"form",17),e.NdJ("ngSubmit",function(){return t.onSubmit()}),e.TgZ(22,"div",18)(23,"div",19)(24,"label",20),e._uU(25,"Name"),e.qZA(),e._UZ(26,"input",21),e.YNc(27,w,2,0,"span",22),e.qZA(),e.TgZ(28,"div",19)(29,"label",20),e._uU(30,"Status"),e.qZA(),e.TgZ(31,"select",23)(32,"option",24),e._uU(33,"Select Status"),e.qZA(),e.TgZ(34,"option",25),e._uU(35,"Active"),e.qZA(),e.TgZ(36,"option",26),e._uU(37,"Deactive"),e.qZA()(),e.YNc(38,U,2,0,"span",22),e.qZA(),e.TgZ(39,"div",19)(40,"label",20),e._uU(41,"Gallery Featured Image"),e.qZA(),e._UZ(42,"br"),e.TgZ(43,"input",27,28),e.NdJ("uploadOutput",function(r){return t.onUploadOutput(r)}),e.qZA(),e._UZ(45,"br"),e.YNc(46,k,1,2,"img",29),e.qZA()(),e.TgZ(47,"div",30)(48,"button",31),e._uU(49,"Submit"),e.qZA(),e.TgZ(50,"button",32),e.NdJ("click",function(){return t.onCancel()}),e._uU(51,"Cancel"),e.qZA()()()()()()()()),2&i&&(e.xp6(18),e.Q6J("ngIf",t.msg_success),e.xp6(1),e.Q6J("ngIf",t.msg_danger),e.xp6(2),e.Q6J("formGroup",t.addgalleryForm),e.xp6(6),e.Q6J("ngIf",t.submitted&&t.hasError("name","required")),e.xp6(11),e.Q6J("ngIf",t.submitted&&t.hasError("status","required")),e.xp6(5),e.Q6J("uploadInput",t.uploadInput),e.xp6(3),e.Q6J("ngIf",t.galleryImage))},dependencies:[h.O5,s._Y,s.YN,s.Kr,s.Fj,s.EJ,s.JJ,s.JL,s.sg,s.u,v.qx]}),a})();var q=o(8503),S=o(8601),b=o(4417),G=o(3189),I=o(9972);function N(a,n){1&a&&(e.TgZ(0,"td",21)(1,"div",22),e._uU(2," Gallery List is Empty "),e.qZA()())}function M(a,n){if(1&a&&(e.TgZ(0,"td"),e._uU(1),e.qZA()),2&a){const i=e.oxw().index;e.xp6(1),e.Oqu(i+1)}}function J(a,n){if(1&a&&(e.TgZ(0,"td"),e._uU(1),e.qZA()),2&a){const i=e.oxw().index,t=e.oxw();e.xp6(1),e.Oqu(i+1+(t.currentPage-1)*t.currentLimit)}}function F(a,n){if(1&a){const i=e.EpF();e.TgZ(0,"tr"),e.YNc(1,M,2,1,"td",23),e.YNc(2,J,2,1,"td",23),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._UZ(6,"img",24),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.ALo(11,"date"),e.qZA(),e.TgZ(12,"td")(13,"a",25),e._UZ(14,"i",26),e.qZA(),e.TgZ(15,"a",27),e.NdJ("click",function(){const r=e.CHM(i).$implicit,p=e.oxw();return e.KtG(p.deleteGallery(r._id))}),e._UZ(16,"i",28),e.qZA()()()}if(2&a){const i=n.$implicit,t=e.oxw();e.xp6(1),e.Q6J("ngIf",1==t.currentPage),e.xp6(1),e.Q6J("ngIf",1!=t.currentPage),e.xp6(2),e.Oqu(i.name),e.xp6(2),e.hYB("src","",t.imagePath,"",i.image,"",e.LSH),e.xp6(2),e.Oqu(1==i.status?"Active":"Deactive"),e.xp6(2),e.Oqu(e.xi3(11,8,i.created_at,"dd/MMM/yyyy hh:mm a")),e.xp6(3),e.MGl("routerLink","/gallery/edit/",i._id,"")}}function P(a,n){if(1&a){const i=e.EpF();e.TgZ(0,"div",29)(1,"app-pagination",30,31),e.NdJ("changePage",function(l){e.CHM(i);const r=e.oxw();return e.KtG(r.onListChangePage(l))}),e.qZA()()}if(2&a){const i=e.oxw();e.xp6(1),e.Q6J("initialPage",i.currentPage)("count",i.totalRecord)}}const O=[{path:"add",component:Z,canActivate:[f.a]},{path:"edit/:id",component:Z,canActivate:[f.a],data:{title:"edit"}},{path:"view",component:(()=>{class a{constructor(i,t,l){this.router=i,this.loginService=t,this.galleryService=l,this.msg_danger=!1,this.vendorid="",this.currentPage=1,this.initialized=!1,this.currentLimit=10,this.totalRecord=0,this.searchText="",this.config={value:!0,name:"",disabled:!1,height:25,width:90,margin:3,fontSize:10,speed:300,color:{checked:"#36aef5",unchecked:"#423f3f"},switchColor:{checked:"#3366FF",unchecked:"crimson"},labels:{unchecked:"Deactive",checked:"Active"},checkedLabel:"",uncheckedLabel:"",fontColor:{checked:"#fafafa",unchecked:"#ffffff"}},this.imagePath=d.N.baseUrl+"/public/",this.token=localStorage.getItem("token"),this.config.switchColor.checked="#dcdcdc",this.config.color.checked="#dcdcdc",this.config.labels.checked="Change",this.isactive="none"}ngOnInit(){this.get_GalleryData()}get_GalleryData(){this.galleryService.getGalleryDetails({limit:this.currentLimit,page:this.currentPage,vendor_id:this.vendorid,token:this.token}).subscribe(t=>{200==t.code&&(null!=t.result&&""!=t.result?(this.GalleryData=t.result,this.totalRecord=t?.count,window.scroll(0,0)):this.msg_danger=!0)})}changeVendorList(i){this.vendorid=i.currentTarget.value,this.get_GalleryData()}onListChangePage(i){this.currentPage=i,this.get_GalleryData()}deleteGallery(i){confirm("Are you sure to delete this product")&&this.galleryService.deletegallery({id:i}).subscribe(l=>{200==l.code&&(this.get_GalleryData(),this.router.navigate(["/gallery/view"]))})}searchGallery(){this.searchText?(this.currentLimit=1e3,this.currentPage=1):this.currentLimit=10,this.get_GalleryData()}changeStatus(){"none"!=this.isactive?(this.config.switchColor.checked="#ffffff",this.config.color.checked="green",this.config.labels.checked="Active"):this.isactive?(this.isactive=!1,this.config.switchColor.unchecked="crimson",this.config.color.unchecked="#423f3f",this.config.labels.unchecked="Deactive"):this.isactive=!0}resetFilter(){this.config.switchColor.checked="#dcdcdc",this.config.color.checked="#dcdcdc",this.config.labels.checked="Change",this.config.switchColor.unchecked="#dcdcdc",this.config.color.unchecked="#dcdcdc",this.config.labels.unchecked="Change",this.isactive="none"}}return a.\u0275fac=function(i){return new(i||a)(e.Y36(c.F0),e.Y36(q.r),e.Y36(_))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-view-gallery"]],decls:44,vars:20,consts:[[1,"header","bg-gradient-info","pb-8","pt-5","pt-md-8"],[1,"container-fluid"],[1,"header-body"],[1,"container-fluid","mt--7"],[1,"row"],[1,"col"],[1,"card","shadow"],[1,"card-header","border-0"],[1,"mb-0"],[1,"col-md-12"],[1,"col-md-6"],["type","text","name","search","autocomplete","off","placeholder","\uf002  Start searching a Gallery by id or name",1,"form-control","mt-4",3,"ngModel","keyup","ngModelChange"],["type","button","routerLink","/gallery/add",1,"btn","btn-primary","pull-right"],[1,"title"],[1,"table-responsive"],[1,"table","align-items-center","table-flush"],["required","",3,"ngModel","disabled","width","height","margin","labels","color","switchColor","fontColor","fontSize","ngModelChange","click"],[1,"btn","btn-sm","btn-info","mr-4",3,"click"],["colspan","6",4,"ngIf"],[4,"ngFor","ngForOf"],["class","aetrio-pagination",4,"ngIf"],["colspan","6"],[1,"alert","alert-dismissable",2,"text-align","center"],[4,"ngIf"],["alt","logo",2,"height","100px","width","100px",3,"src"],[2,"cursor","pointer",3,"routerLink"],["aria-hidden","true",1,"fa","fa-pencil-square-o"],[2,"cursor","pointer","padding-left","15px",3,"click"],["aria-hidden","true",1,"fa","fa-trash-o"],[1,"aetrio-pagination"],[3,"initialPage","count","changePage"],["pagination",""]],template:function(i,t){1&i&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"div",2),e.qZA()(),e.TgZ(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"h3",8),e._uU(9,"Gallery List"),e.qZA()(),e.TgZ(10,"div",9)(11,"div",4)(12,"div",10)(13,"input",11),e.NdJ("keyup",function(){return t.searchGallery()})("ngModelChange",function(r){return t.searchText=r}),e.qZA()(),e.TgZ(14,"div",10)(15,"button",12),e._uU(16,"Add Gallery"),e.qZA()()(),e.TgZ(17,"div",10),e._UZ(18,"h4",13),e.qZA()(),e.TgZ(19,"div",14)(20,"table",15)(21,"thead")(22,"tr")(23,"th"),e._uU(24,"SL No"),e.qZA(),e.TgZ(25,"th"),e._uU(26,"Gallery Name"),e.qZA(),e.TgZ(27,"th"),e._uU(28,"Gallery Image"),e.qZA(),e.TgZ(29,"th"),e._uU(30,"Status "),e.TgZ(31,"ng-toggle",16),e.NdJ("ngModelChange",function(r){return t.isactive=r})("click",function(){return t.changeStatus()}),e.qZA(),e.TgZ(32,"a",17),e.NdJ("click",function(){return t.resetFilter()}),e._uU(33,"Reset"),e.qZA()(),e.TgZ(34,"th"),e._uU(35,"Created At"),e.qZA(),e.TgZ(36,"th"),e._uU(37,"Action"),e.qZA()()(),e.TgZ(38,"tbody"),e.YNc(39,N,3,0,"td",18),e.YNc(40,F,17,11,"tr",19),e.ALo(41,"activefilter"),e.ALo(42,"filter"),e.qZA()(),e.YNc(43,P,3,2,"div",20),e.qZA()()()()()),2&i&&(e.xp6(13),e.Q6J("ngModel",t.searchText),e.xp6(18),e.Q6J("ngModel",t.isactive)("disabled",t.config.disabled)("width",t.config.width)("height",t.config.height)("margin",t.config.margin)("labels",t.config.labels)("color",t.config.color)("switchColor",t.config.switchColor)("fontColor",t.config.fontColor)("fontSize",t.config.fontSize),e.xp6(8),e.Q6J("ngIf",t.msg_danger),e.xp6(1),e.Q6J("ngForOf",e.xi3(41,14,e.xi3(42,17,t.GalleryData,t.searchText),t.isactive)),e.xp6(3),e.Q6J("ngIf",t.totalRecord>0&&!t.searchText))},dependencies:[h.sg,h.O5,c.rH,c.yS,s.Fj,s.JJ,s.Q7,s.On,S.Q,b.sX,h.uU,G.Z,I.L],styles:[".filter_vendor[_ngcontent-%COMP%]{float:right;width:auto;margin:8px 12px 0 0}.aetrio-pagination[_ngcontent-%COMP%]{display:inline-block;width:100%;text-align:center;background-color:#36aef5}.btn-primary[_ngcontent-%COMP%]{color:#fff;background-color:#423f3f;border-color:#423f3f}.title[_ngcontent-%COMP%]{font-size:30px}.box-title[_ngcontent-%COMP%]{font-size:60px}"]}),a})(),canActivate:[f.a]}];let Y=(()=>{class a{}return a.\u0275fac=function(i){return new(i||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[c.Bz.forChild(O),c.Bz]}),a})();var Q=o(2257),R=o(6849),V=o(9771);let z=(()=>{class a{}return a.\u0275fac=function(i){return new(i||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[h.ez,Y,m.JF,s.u5,s.UX,v.TA,A.UM,Q.PageModule,R.BlogModule,G.h,b.zb,V.B]}),a})()}}]);