"use strict";(self.webpackChunkaetrio_dashboard_angular=self.webpackChunkaetrio_dashboard_angular||[]).push([[696],{2696:(B,b,d)=>{d.r(b),d.d(b,{PositionModule:()=>H});var c=d(6895),g=d(529),r=d(433),C=d(6913),T=d(9207),q=d(8567),U=d(6849),P=d(3189),l=d(8869),f=d(5826),p=d(262),h=d(2843),m=d(2340),t=d(4650);let A=(()=>{class o{constructor(i){this.http=i,this.addPosition=e=>this.http.post(m.N.baseUrl+"/api/position/addposition",e,this.getRequestHeaders()).pipe((0,p.K)(s=>(0,h._)(s))),this.getPositionDetails=e=>this.http.post(m.N.baseUrl+"/api/position/adminpositionview",e,this.getRequestHeaders()).pipe((0,p.K)(s=>(0,h._)(s))),this.getPositionWithId=e=>this.http.post(m.N.baseUrl+"/api/position/getpositionWithId",e,this.getRequestHeaders()).pipe((0,p.K)(s=>(0,h._)(s))),this.editpositiondata=(e,n)=>{let s=m.N.baseUrl+"/api/position/editpositiondata";return n&&(s+=`?id=${n}`),this.http.post(s,e,this.getRequestHeaders()).pipe((0,p.K)(u=>(0,h._)(u)))},this.deleteposition=e=>this.http.post(m.N.baseUrl+"/api/position/deleteposition",e,this.getRequestHeaders()).pipe((0,p.K)(s=>(0,h._)(s)))}getRequestHeaders(){let i;const e=localStorage.getItem("aetrio-token");return i=new g.WM({Authorization:`Bearer ${e}`}),{headers:i}}}return o.\u0275fac=function(i){return new(i||o)(t.LFG(g.eN))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var x=d(6570);function w(o,a){if(1&o&&(t.TgZ(0,"div",32),t._uU(1),t.qZA()),2&o){const i=t.oxw();t.xp6(1),t.hij(" ",i.throw_msg," ")}}function I(o,a){if(1&o&&(t.TgZ(0,"div",33),t._uU(1),t.qZA()),2&o){const i=t.oxw();t.xp6(1),t.hij(" ",i.throw_msg," ")}}function N(o,a){1&o&&(t.TgZ(0,"span",34),t._uU(1,"Email is required"),t.qZA())}function J(o,a){1&o&&(t.TgZ(0,"span",34),t._uU(1,"Description is required"),t.qZA())}function F(o,a){1&o&&(t.TgZ(0,"span",34),t._uU(1,"Type is required"),t.qZA())}function R(o,a){1&o&&(t.TgZ(0,"span",34),t._uU(1,"URL/Email is required"),t.qZA())}let y=(()=>{class o{constructor(i,e,n,s,u){this.formBuilder=i,this.router=e,this.route=n,this.positionservice=s,this.toastr=u,this.submitted=!1,this.msg_success=!1,this.msg_danger=!1,this.isEdit="edit"===this.route.snapshot.data.title,this.editorConfig={editable:!0,spellcheck:!0,height:"auto",minHeight:"200px",maxHeight:"auto",width:"auto",minWidth:"0",translate:"yes",enableToolbar:!0,showToolbar:!0,placeholder:"Enter text here...",defaultParagraphSeparator:"",defaultFontName:"",defaultFontSize:"",fonts:[{class:"position_box",name:"Rajdhani sans-serif"}]},this.hasError=(Z,_)=>this.addPositionForm.controls[Z].hasError(_),this.addPositionForm=this.formBuilder.group({name:["",r.kI.required],description:["",r.kI.required],type:[""],status:[!0,""],url_or_email:[""]})}ngOnInit(){this.id=this.route.snapshot.paramMap.get("id"),this.isEdit?(this.patchingdata(this.id),this.applyAction="Update"):this.applyAction="Add"}patchingdata(i){this.positionservice.getPositionWithId({id:i}).subscribe(n=>{if(200==n.code){let s=n?.result;this.addPositionForm.patchValue({name:s?.name,description:s?.description,type:s?.type,url_or_email:s?.url_or_email,status:s?.status})}})}onSubmit(){this.submitted=!0;let i=this.addPositionForm.value;this.addPositionForm.invalid||(this.isEdit?this.positionservice.editpositiondata(i,this.id).subscribe(n=>{200==n.code?(this.toastr.successToastr(n.message),setTimeout(()=>{this.router.navigate(["/position/view"])},2e3)):this.toastr.errorToastr(n.message)}):this.positionservice.addPosition(i).subscribe(n=>{200==n.code?(this.toastr.successToastr(n.message),setTimeout(()=>{this.router.navigate(["/position/view"])},2e3)):400==n.code&&this.toastr.errorToastr(n.message)}))}onCancel(){this.router.navigate(["/position/view"])}}return o.\u0275fac=function(i){return new(i||o)(t.Y36(r.qu),t.Y36(l.F0),t.Y36(l.gz),t.Y36(A),t.Y36(x.eP))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-add-position"]],decls:56,vars:8,consts:[[1,"header","pb-8","pt-5","pt-lg-8","d-flex","align-items-center",2,"min-height","400px","background-size","cover","background-position","center top"],[1,"mask","bg-gradient-info","opacity-8"],[1,"container-fluid","d-flex","align-items-center"],[1,"row"],[1,"col-lg-7","col-md-10"],[1,"display-2","text-white"],[1,"text-white","mt-0","mb-5"],[1,"container-fluid","mt--7"],[1,"col-xl-12","order-xl-1"],[1,"card","bg-secondary","shadow"],[1,"card-header","bg-white","border-0"],[1,"row","align-items-center"],[1,"col-8"],[1,"mb-0"],["class","alert alert-success alert-dismissable","style","margin-left: 0;",4,"ngIf"],["class","alert alert-danger alert-dismissable","style","margin-left: 0;",4,"ngIf"],[1,"card-body"],["method","post","novalidate","",3,"formGroup","ngSubmit"],[1,"box-body"],[1,"form-group"],["for","exampleInputEmail1"],["type","text","name","name","autocomplete","off","formControlName","name","placeholder","Name",1,"form-control"],["class","alert-danger",4,"ngIf"],["name","description","formControlName","description",3,"config"],["type","text","name","type","autocomplete","off","formControlName","type","placeholder","Position Type",1,"form-control"],["type","text","name","url_or_email","autocomplete","off","formControlName","url_or_email","placeholder","URL/Email",1,"form-control"],["name","status","formControlName","status",1,"form-control"],["value","true"],["value","false"],[1,"box-footer"],["type","submit",1,"btn","btn-primary"],["type","cancel",1,"btn","btn-danger",3,"click"],[1,"alert","alert-success","alert-dismissable",2,"margin-left","0"],[1,"alert","alert-danger","alert-dismissable",2,"margin-left","0"],[1,"alert-danger"]],template:function(i,e){1&i&&(t.TgZ(0,"div",0),t._UZ(1,"span",1),t.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"h1",5),t._uU(6,"Position Information "),t.qZA(),t.TgZ(7,"p",6),t._uU(8,"This is your profile page. You can see the progress you've made with your work and manage your projects or assigned tasks"),t.qZA()()()()(),t.TgZ(9,"div",7)(10,"div",3)(11,"div",8)(12,"div",9)(13,"div",10)(14,"div",11)(15,"div",12)(16,"h3",13),t._uU(17,"Edit Position"),t.qZA()()(),t.YNc(18,w,2,1,"div",14),t.YNc(19,I,2,1,"div",15),t.qZA(),t.TgZ(20,"div",16)(21,"form",17),t.NdJ("ngSubmit",function(){return e.onSubmit()}),t.TgZ(22,"div",18)(23,"div",19)(24,"label",20),t._uU(25,"Name : "),t.qZA(),t._UZ(26,"input",21),t.YNc(27,N,2,0,"span",22),t.qZA(),t.TgZ(28,"div",19)(29,"label",20),t._uU(30,"Description"),t.qZA(),t._UZ(31,"angular-editor",23),t.YNc(32,J,2,0,"span",22),t.qZA(),t.TgZ(33,"div",19)(34,"label",20),t._uU(35,"Type"),t.qZA(),t._UZ(36,"input",24),t.YNc(37,F,2,0,"span",22),t.qZA(),t.TgZ(38,"div",19)(39,"label",20),t._uU(40,"URL/Email"),t.qZA(),t._UZ(41,"input",25),t.YNc(42,R,2,0,"span",22),t.qZA(),t.TgZ(43,"div",19)(44,"label",20),t._uU(45,"Status"),t.qZA(),t.TgZ(46,"select",26)(47,"option",27),t._uU(48,"Active"),t.qZA(),t.TgZ(49,"option",28),t._uU(50,"InActive"),t.qZA()()(),t.TgZ(51,"div",29)(52,"button",30),t._uU(53,"Submit"),t.qZA(),t.TgZ(54,"button",31),t.NdJ("click",function(){return e.onCancel()}),t._uU(55,"Cancel"),t.qZA()()()()()()()()()),2&i&&(t.xp6(18),t.Q6J("ngIf",e.msg_success),t.xp6(1),t.Q6J("ngIf",e.msg_danger),t.xp6(2),t.Q6J("formGroup",e.addPositionForm),t.xp6(6),t.Q6J("ngIf",e.submitted&&e.hasError("name","required")),t.xp6(4),t.Q6J("config",e.editorConfig),t.xp6(1),t.Q6J("ngIf",e.submitted&&e.hasError("description","required")),t.xp6(5),t.Q6J("ngIf",e.submitted&&e.hasError("type","required")),t.xp6(5),t.Q6J("ngIf",e.submitted&&e.hasError("url_or_email","required")))},dependencies:[c.O5,r._Y,r.YN,r.Kr,r.Fj,r.EJ,r.JJ,r.JL,r.sg,r.u,T.s6]}),o})();var v=d(2710),E=d(8601);function S(o,a){1&o&&(t.TgZ(0,"td",19)(1,"div",20),t._uU(2," Position List is Empty "),t.qZA()())}function M(o,a){if(1&o&&(t.TgZ(0,"td"),t._uU(1),t.qZA()),2&o){const i=t.oxw().index;t.xp6(1),t.Oqu(i+1)}}function L(o,a){if(1&o&&(t.TgZ(0,"td"),t._uU(1),t.qZA()),2&o){const i=t.oxw().index,e=t.oxw();t.xp6(1),t.Oqu(i+1+(e.currentPage-1)*e.currentLimit)}}function Y(o,a){if(1&o){const i=t.EpF();t.TgZ(0,"tr"),t.YNc(1,M,2,1,"td",21),t.YNc(2,L,2,1,"td",21),t.TgZ(3,"td"),t._uU(4),t.qZA(),t._UZ(5,"td",22),t.TgZ(6,"td"),t._uU(7),t.qZA(),t.TgZ(8,"td"),t._uU(9),t.qZA(),t.TgZ(10,"td"),t._uU(11),t.ALo(12,"date"),t.qZA(),t.TgZ(13,"td")(14,"a",23),t._UZ(15,"i",24),t.qZA(),t.TgZ(16,"a",25),t.NdJ("click",function(){const s=t.CHM(i).$implicit,u=t.oxw();return t.KtG(u.deletePosition(s._id))}),t._UZ(17,"i",26),t.qZA()()()}if(2&o){const i=a.$implicit,e=t.oxw();t.xp6(1),t.Q6J("ngIf",1==e.currentPage),t.xp6(1),t.Q6J("ngIf",1!=e.currentPage),t.xp6(2),t.Oqu(i.name),t.xp6(1),t.Q6J("innerHTML",i.description,t.oJD),t.xp6(2),t.Oqu(i.type),t.xp6(2),t.Oqu(1==i.status?"Active":"Inactive"),t.xp6(2),t.Oqu(t.xi3(12,8,i.created_at,"dd/MMM/yyyy hh:mm a")),t.xp6(3),t.MGl("routerLink","/position/edit/",i._id,"")}}function D(o,a){if(1&o){const i=t.EpF();t.TgZ(0,"div",27)(1,"app-pagination",28,29),t.NdJ("changePage",function(n){t.CHM(i);const s=t.oxw();return t.KtG(s.onListChangePage(n))}),t.qZA()()}if(2&o){const i=t.oxw();t.xp6(1),t.Q6J("initialPage",i.currentPage)("count",i.totalRecord)}}const Q=[{path:"add",component:y,canActivate:[f.a],data:{title:"add"}},{path:"view",component:(()=>{class o{constructor(i,e,n,s,u){this.router=i,this.positionService=e,this.toaster=n,this.modalService=s,this.formBuilder=u,this.msg_danger=!1,this.submitted=!1,this.editorConfig={editable:!0,spellcheck:!0,height:"auto",minHeight:"200px",maxHeight:"auto",width:"auto",minWidth:"0",translate:"yes",enableToolbar:!0,showToolbar:!0,placeholder:"Enter text here...",defaultParagraphSeparator:"",defaultFontName:"",defaultFontSize:"",fonts:[{class:"career_box",name:"Rajdhani sans-serif"}]},this.currentPage=1,this.initialized=!1,this.currentLimit=10,this.totalRecord=0,this.searchText="",this.closeResult="",this.modalReference=null,this.hasError=(Z,_)=>this.addPositionEmailForm.controls[Z].hasError(_),this.addPositionEmailForm=this.formBuilder.group({email:["",[]],subject:["",[r.kI.required,r.kI.maxLength(255)]],content:["",r.kI.required]})}ngOnInit(){this.get_positionData()}get_positionData(){this.positionService.getPositionDetails({limit:this.currentLimit,page:this.currentPage}).subscribe(e=>{200==e.code&&(null!=e.result&&""!=e.result?(this.positionData=e.result,this.totalRecord=e?.count,window.scroll(0,0)):(this.msg_danger=!0,this.toaster.errorToastr(e.message)))})}onListChangePage(i){this.currentPage=i,this.get_positionData()}deletePosition(i){confirm("Are you sure to delete this Position Job")&&this.positionService.deleteposition({id:i}).subscribe(n=>{200==n.code&&(this.get_positionData(),this.router.navigate(["/position/view"]))})}searchPosition(){this.searchText?(this.currentLimit=1e3,this.currentPage=1):this.currentLimit=10,this.get_positionData()}open(i,e){this.selectedBanner=e,this.modalReference=this.modalService.open(i,{ariaLabelledBy:"modal-basic-title"}).result.then(n=>{this.closeResult=`Closed with: ${n}`},n=>{this.closeResult=`Dismissed ${this.getDismissReason(n)}`})}sendAllopen(i){this.modalReference=this.modalService.open(i,{ariaLabelledBy:"modal-basic-title"}).result.then(e=>{this.closeResult=`Closed with: ${e}`},e=>{this.closeResult=`Dismissed ${this.getDismissReason(e)}`})}getDismissReason(i){return i===v.If.ESC?"by pressing ESC":i===v.If.BACKDROP_CLICK?"by clicking on a backdrop":`with: ${i}`}onCancel(){this.router.navigate(["/position/view"])}}return o.\u0275fac=function(i){return new(i||o)(t.Y36(l.F0),t.Y36(A),t.Y36(x.eP),t.Y36(v.FF),t.Y36(r.qu))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-view-position"]],decls:43,vars:7,consts:[[1,"header","bg-gradient-info","pb-8","pt-5","pt-md-8"],[1,"container-fluid"],[1,"header-body"],[1,"container-fluid","mt--7"],[1,"row"],[1,"col"],[1,"card","shadow"],[1,"card-header","border-0"],[1,"mb-0"],[1,"col-md-12"],[1,"col-md-6"],[1,"title"],["type","text","name","search","autocomplete","off","placeholder","\uf002  Start searching for a Position by id or name or email",1,"form-control",3,"ngModel","keyup","ngModelChange"],["type","button","routerLink","/position/add",1,"btn","btn-primary","pull-right"],[1,"table-responsive"],[1,"table","align-items-center","table-flush"],["colspan","5",4,"ngIf"],[4,"ngFor","ngForOf"],["class","aetrio-pagination",4,"ngIf"],["colspan","5"],[1,"alert","alert-dismissable",2,"text-align","center"],[4,"ngIf"],[3,"innerHTML"],[2,"cursor","pointer",3,"routerLink"],["aria-hidden","true",1,"fa","fa-pencil-square-o"],[2,"cursor","pointer","padding-left","15px",3,"click"],["aria-hidden","true",1,"fa","fa-trash-o"],[1,"aetrio-pagination"],[3,"initialPage","count","changePage"],["pagination",""]],template:function(i,e){1&i&&(t.TgZ(0,"div",0)(1,"div",1),t._UZ(2,"div",2),t.qZA()(),t.TgZ(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"h3",8),t._uU(9,"Position List"),t.qZA()(),t.TgZ(10,"div",9)(11,"div",4)(12,"div",10)(13,"h4",11)(14,"input",12),t.NdJ("keyup",function(){return e.searchPosition()})("ngModelChange",function(s){return e.searchText=s}),t.qZA()()(),t.TgZ(15,"div",10)(16,"button",13),t._uU(17,"Add Position"),t.qZA()()(),t.TgZ(18,"div",10),t._UZ(19,"h4",11),t.qZA()(),t.TgZ(20,"div",14)(21,"table",15)(22,"thead")(23,"tr")(24,"th"),t._uU(25,"Sl No"),t.qZA(),t.TgZ(26,"th"),t._uU(27,"Name"),t.qZA(),t.TgZ(28,"th"),t._uU(29,"Description"),t.qZA(),t.TgZ(30,"th"),t._uU(31,"Type"),t.qZA(),t.TgZ(32,"th"),t._uU(33,"Status"),t.qZA(),t.TgZ(34,"th"),t._uU(35,"Created Date"),t.qZA(),t.TgZ(36,"th"),t._uU(37,"Action"),t.qZA()()(),t.TgZ(38,"tbody"),t.YNc(39,S,3,0,"td",16),t.YNc(40,Y,18,11,"tr",17),t.ALo(41,"filter"),t.qZA()(),t.YNc(42,D,3,2,"div",18),t.qZA()()()()()),2&i&&(t.xp6(14),t.Q6J("ngModel",e.searchText),t.xp6(25),t.Q6J("ngIf",e.msg_danger),t.xp6(1),t.Q6J("ngForOf",t.xi3(41,4,e.positionData,e.searchText)),t.xp6(2),t.Q6J("ngIf",e.totalRecord>0&&!e.searchText))},dependencies:[c.sg,c.O5,l.rH,l.yS,r.Fj,r.JJ,r.On,E.Q,c.uU,P.Z],styles:[".aetrio-pagination[_ngcontent-%COMP%]{display:inline-block;width:100%;text-align:center;background-color:#36aef5}.btn-primary[_ngcontent-%COMP%]{color:#fff;background-color:#423f3f;border-color:#423f3f}"]}),o})(),canActivate:[f.a]},{path:"edit/:id",component:y,canActivate:[f.a],data:{title:"edit"}}];let O=(()=>{class o{}return o.\u0275fac=function(i){return new(i||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[l.Bz.forChild(Q),l.Bz]}),o})(),H=(()=>{class o{}return o.\u0275fac=function(i){return new(i||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[c.ez,O,c.ez,g.JF,r.u5,r.UX,C.TA,T.UM,q.JX,U.BlogModule,P.h]}),o})()}}]);