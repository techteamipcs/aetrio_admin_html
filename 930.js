"use strict";(self.webpackChunkaetrio_dashboard_angular=self.webpackChunkaetrio_dashboard_angular||[]).push([[930],{8930:(z,_,s)=>{s.r(_),s.d(_,{CareerModule:()=>D});var u=s(6895),h=s(529),d=s(433),C=s(6913),Z=s(9207),A=s(8567),x=s(6849),c=s(8869),e=s(4650),l=s(2340),p=s(262),m=s(2843);let b=(()=>{class r{constructor(t){this.http=t,this.addCareer=a=>this.http.post(l.N.baseUrl+"/api/career/add",a,this.getRequestHeaders()).pipe((0,p.K)(n=>(0,m._)(n))),this.getCareerDetails=a=>this.http.post(l.N.baseUrl+"/api/career/admincareerview",a,this.getRequestHeaders()).pipe((0,p.K)(n=>(0,m._)(n))),this.getCareerWithId=a=>this.http.post(l.N.baseUrl+"/api/career/getcareerWithId",a,this.getRequestHeaders()).pipe((0,p.K)(n=>(0,m._)(n))),this.editcareerdata=(a,i)=>{let n=l.N.baseUrl+"/api/career/editcareerdata";return i&&(n+=`?id=${i}`),this.http.post(n,a,this.getRequestHeaders()).pipe((0,p.K)(g=>(0,m._)(g)))},this.deletecareer=a=>this.http.post(l.N.baseUrl+"/api/career/deletecareer",a,this.getRequestHeaders()).pipe((0,p.K)(n=>(0,m._)(n)))}getRequestHeaders(){let t;const a=localStorage.getItem("aetrio-token");return t=new h.WM({Authorization:`Bearer ${a}`}),{headers:t}}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(h.eN))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();var q=s(6570);function U(r,o){if(1&r&&(e.TgZ(0,"div",33),e._uU(1),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.hij(" ",t.throw_msg," ")}}function y(r,o){if(1&r&&(e.TgZ(0,"div",34),e._uU(1),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.hij(" ",t.throw_msg," ")}}function w(r,o){1&r&&(e.TgZ(0,"span",35),e._uU(1,"First Name is required"),e.qZA())}function N(r,o){1&r&&(e.TgZ(0,"span",35),e._uU(1,"Last Name is required"),e.qZA())}function I(r,o){1&r&&(e.TgZ(0,"span",35),e._uU(1,"Career Email is required"),e.qZA())}function J(r,o){1&r&&(e.TgZ(0,"span",35),e._uU(1,"Career Mobile is required"),e.qZA())}function M(r,o){1&r&&(e.TgZ(0,"span",35),e._uU(1,"Subject is required"),e.qZA())}function F(r,o){if(1&r&&(e.TgZ(0,"a",36),e._uU(1),e.qZA()),2&r){const t=e.oxw();e.hYB("href","",t.imagePath,"career/",t.document,"",e.LSH),e.xp6(1),e.Oqu(t.document)}}let v=(()=>{class r{constructor(t,a,i,n,g){this.formBuilder=t,this.router=a,this.route=i,this.careerservice=n,this.toastr=g,this.submitted=!1,this.msg_success=!1,this.msg_danger=!1,this.isEdit="edit"===this.route.snapshot.data.title,this.editorConfig={editable:!0,spellcheck:!0,height:"auto",minHeight:"200px",maxHeight:"auto",width:"auto",minWidth:"0",translate:"yes",enableToolbar:!0,showToolbar:!0,placeholder:"Enter text here...",defaultParagraphSeparator:"",defaultFontName:"",defaultFontSize:"",fonts:[{class:"career_box",name:"Rajdhani sans-serif"}]},this.hasError=(R,H)=>this.addCareerForm.controls[R].hasError(H),this.addCareerForm=this.formBuilder.group({firstname:["",d.kI.required],lastname:["",d.kI.required],email:["",d.kI.required],mobile:["",d.kI.required],subject:["",d.kI.required]}),this.uploadInput=new e.vpe}ngOnInit(){this.id=this.route.snapshot.paramMap.get("id"),this.imagePath=l.N.baseUrl+"/public/",this.isEdit?(this.patchingdata(this.id),this.applyAction="Update"):this.applyAction="Add"}patchingdata(t){this.careerservice.getCareerWithId({id:t}).subscribe(i=>{if(200==i.code){let n=i?.result;this.document=n?.documents,this.addCareerForm.patchValue({firstname:n?.firstname,lastname:n?.lastname,email:n?.email,mobile:n?.mobile,subject:n?.subject})}})}onSubmit(){this.submitted=!0;let t=this.addCareerForm.value,a=this.id;this.addCareerForm.invalid||(t.documents=this.document,this.isEdit?this.careerservice.editcareerdata(t,a).subscribe(i=>{200==i.code?(this.toastr.successToastr(i.message),setTimeout(()=>{this.router.navigate(["/career/view"])},2e3)):this.toastr.errorToastr(i.message)}):this.careerservice.addCareer(t).subscribe(i=>{200==i.code?(this.toastr.successToastr(i.message),setTimeout(()=>{this.router.navigate(["/career/view"])},2e3)):400==i.code&&this.toastr.errorToastr(i.message)}))}onCancel(){this.router.navigate(["/career/view"])}onUploadFile(t){this.selectedFile=t,"allAddedToQueue"===t.type?this.uploadInput.emit({type:"uploadAll",url:l.N.baseUrl+"/api/career/addNewDocument",method:"POST",data:{}}):"done"===t.type&&typeof t.file<"u"&&(this.document=t.file.response.result,this.throw_msg=t.file.response.message,this.msg_success=!0)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(d.qu),e.Y36(c.F0),e.Y36(c.gz),e.Y36(b),e.Y36(q.eP))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-add-career"]],decls:61,vars:11,consts:[[1,"header","pb-8","pt-5","pt-lg-8","d-flex","align-items-center",2,"min-height","400px","background-size","cover","background-position","center top"],[1,"mask","bg-gradient-info","opacity-8"],[1,"container-fluid","d-flex","align-items-center"],[1,"row"],[1,"col-lg-7","col-md-10"],[1,"display-2","text-white"],[1,"text-white","mt-0","mb-5"],[1,"container-fluid","mt--7"],[1,"col-xl-12","order-xl-1"],[1,"card","bg-secondary","shadow"],[1,"card-header","bg-white","border-0"],[1,"row","align-items-center"],[1,"col-8"],[1,"mb-0"],["class","alert alert-success alert-dismissable","style","margin-left: 0;",4,"ngIf"],["class","alert alert-danger alert-dismissable","style","margin-left: 0;",4,"ngIf"],[1,"card-body"],["method","post","novalidate","",3,"formGroup","ngSubmit"],[1,"box-body"],[1,"form-group"],["for","exampleInputEmail1"],["type","text","name","firstname","autocomplete","off","formControlName","firstname","placeholder","Career Name",1,"form-control"],["class","alert-danger",4,"ngIf"],["type","text","name","lastname","autocomplete","off","formControlName","lastname","placeholder","Last Name",1,"form-control"],["type","email","name","email","autocomplete","off","formControlName","email","placeholder","Career Email",1,"form-control"],["type","number","name","mobile","autocomplete","off","formControlName","mobile","placeholder","Career Mobile",1,"form-control"],["name","description","formControlName","subject",3,"config"],["type","file","ngFileSelect","",3,"uploadInput","uploadOutput"],["uploader",""],["target","_blank",3,"href",4,"ngIf"],[1,"box-footer"],["type","submit",1,"btn","btn-primary"],["type","cancel",1,"btn","btn-danger",3,"click"],[1,"alert","alert-success","alert-dismissable",2,"margin-left","0"],[1,"alert","alert-danger","alert-dismissable",2,"margin-left","0"],[1,"alert-danger"],["target","_blank",3,"href"]],template:function(t,a){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"span",1),e.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"h1",5),e._uU(6,"Single Career "),e.qZA(),e.TgZ(7,"p",6),e._uU(8,"This is your profile page. You can see the progress you've made with your work and manage your projects or assigned tasks"),e.qZA()()()()(),e.TgZ(9,"div",7)(10,"div",3)(11,"div",8)(12,"div",9)(13,"div",10)(14,"div",11)(15,"div",12)(16,"h3",13),e._uU(17,"Edit Career"),e.qZA()()(),e.YNc(18,U,2,1,"div",14),e.YNc(19,y,2,1,"div",15),e.qZA(),e.TgZ(20,"div",16)(21,"form",17),e.NdJ("ngSubmit",function(){return a.onSubmit()}),e.TgZ(22,"div",18)(23,"div",19)(24,"label",20),e._uU(25,"First Name"),e.qZA(),e._UZ(26,"input",21),e.YNc(27,w,2,0,"span",22),e.qZA(),e.TgZ(28,"div",19)(29,"label",20),e._uU(30,"Last Name"),e.qZA(),e._UZ(31,"input",23),e.YNc(32,N,2,0,"span",22),e.qZA(),e.TgZ(33,"div",19)(34,"label",20),e._uU(35,"Email"),e.qZA(),e._UZ(36,"input",24),e.YNc(37,I,2,0,"span",22),e.qZA(),e.TgZ(38,"div",19)(39,"label",20),e._uU(40,"Mobile"),e.qZA(),e._UZ(41,"input",25),e.YNc(42,J,2,0,"span",22),e.qZA(),e.TgZ(43,"div",19)(44,"label",20),e._uU(45,"Subject"),e.qZA(),e._UZ(46,"angular-editor",26),e.YNc(47,M,2,0,"span",22),e.qZA(),e.TgZ(48,"div",19)(49,"label",20),e._uU(50,"Upload Document"),e.qZA(),e._UZ(51,"br"),e.TgZ(52,"input",27,28),e.NdJ("uploadOutput",function(n){return a.onUploadFile(n)}),e.qZA(),e._UZ(54,"br"),e.YNc(55,F,2,3,"a",29),e.qZA()(),e.TgZ(56,"div",30)(57,"button",31),e._uU(58,"Submit"),e.qZA(),e.TgZ(59,"button",32),e.NdJ("click",function(){return a.onCancel()}),e._uU(60,"Cancel"),e.qZA()()()()()()()()),2&t&&(e.xp6(18),e.Q6J("ngIf",a.msg_success),e.xp6(1),e.Q6J("ngIf",a.msg_danger),e.xp6(2),e.Q6J("formGroup",a.addCareerForm),e.xp6(6),e.Q6J("ngIf",a.submitted&&a.hasError("firstname","required")),e.xp6(5),e.Q6J("ngIf",a.submitted&&a.hasError("lastname","required")),e.xp6(5),e.Q6J("ngIf",a.submitted&&a.hasError("email","required")),e.xp6(5),e.Q6J("ngIf",a.submitted&&a.hasError("mobile","required")),e.xp6(4),e.Q6J("config",a.editorConfig),e.xp6(1),e.Q6J("ngIf",a.submitted&&a.hasError("subject","required")),e.xp6(5),e.Q6J("uploadInput",a.uploadInput),e.xp6(3),e.Q6J("ngIf",a.document))},dependencies:[u.O5,d._Y,d.Fj,d.wV,d.JJ,d.JL,d.sg,d.u,C.qx,Z.s6]}),r})();var P=s(8601),T=s(3189);function S(r,o){1&r&&(e.TgZ(0,"td",19)(1,"div",20),e._uU(2," Career List is Empty "),e.qZA()())}function O(r,o){if(1&r&&(e.TgZ(0,"td"),e._uU(1),e.qZA()),2&r){const t=e.oxw().index;e.xp6(1),e.Oqu(t+1)}}function Y(r,o){if(1&r&&(e.TgZ(0,"td"),e._uU(1),e.qZA()),2&r){const t=e.oxw().index,a=e.oxw();e.xp6(1),e.Oqu(t+1+(a.currentPage-1)*a.currentLimit)}}function L(r,o){if(1&r&&(e.TgZ(0,"a",27),e._uU(1,"View"),e.qZA()),2&r){const t=e.oxw().$implicit,a=e.oxw();e.hYB("href","",a.imagePath,"career/",t.documents,"",e.LSH)}}function k(r,o){if(1&r){const t=e.EpF();e.TgZ(0,"tr"),e.YNc(1,O,2,1,"td",21),e.YNc(2,Y,2,1,"td",21),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.ALo(13,"date"),e.qZA(),e.TgZ(14,"td")(15,"a",22),e._UZ(16,"i",23),e.qZA(),e.TgZ(17,"a",24),e.NdJ("click",function(){const n=e.CHM(t).$implicit,g=e.oxw();return e.KtG(g.deleteCareer(n._id))}),e._UZ(18,"i",25),e.qZA()(),e.TgZ(19,"td"),e.YNc(20,L,2,2,"a",26),e.qZA()()}if(2&r){const t=o.$implicit,a=e.oxw();e.xp6(1),e.Q6J("ngIf",1==a.currentPage),e.xp6(1),e.Q6J("ngIf",1!=a.currentPage),e.xp6(2),e.Oqu(t.firstname),e.xp6(2),e.Oqu(t.lastname),e.xp6(2),e.Oqu(t.email),e.xp6(2),e.Oqu(t.mobile),e.xp6(2),e.Oqu(e.xi3(13,9,t.created_at,"dd/MMM/yyyy hh:mm a")),e.xp6(3),e.MGl("routerLink","/career/edit/",t._id,""),e.xp6(5),e.Q6J("ngIf",t.documents)}}function E(r,o){if(1&r){const t=e.EpF();e.TgZ(0,"div",28)(1,"app-pagination",29,30),e.NdJ("changePage",function(i){e.CHM(t);const n=e.oxw();return e.KtG(n.onListChangePage(i))}),e.qZA()()}if(2&r){const t=e.oxw();e.xp6(1),e.Q6J("initialPage",t.currentPage)("count",t.totalRecord)}}let Q=(()=>{class r{constructor(t,a){this.router=t,this.careerService=a,this.msg_danger=!1,this.currentPage=1,this.initialized=!1,this.currentLimit=10,this.totalRecord=0,this.searchText="",this.imagePath=l.N.baseUrl+"/public/"}ngOnInit(){this.get_careerData()}get_careerData(){this.careerService.getCareerDetails({limit:this.currentLimit,page:this.currentPage}).subscribe(a=>{200==a.code&&(null!=a.result&&""!=a.result?(this.careerData=a.result,this.totalRecord=a?.count,window.scroll(0,0)):this.msg_danger=!0)})}onListChangePage(t){this.currentPage=t,this.get_careerData()}deleteCareer(t){confirm("Are you sure to delete this Career Job")&&this.careerService.deletecareer({id:t}).subscribe(i=>{200==i.code&&(this.get_careerData(),this.router.navigate(["/career/view"]))})}searchCareer(){this.searchText?(this.currentLimit=1e3,this.currentPage=1):this.currentLimit=10,this.get_careerData()}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(c.F0),e.Y36(b))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-view-career"]],decls:44,vars:7,consts:[[1,"header","bg-gradient-info","pb-8","pt-5","pt-md-8"],[1,"container-fluid"],[1,"header-body"],[1,"container-fluid","mt--7"],[1,"row"],[1,"col"],[1,"card","shadow"],[1,"card-header","border-0"],[1,"mb-0"],[1,"col-md-12"],[1,"col-md-6"],["type","text","name","search","autocomplete","off","placeholder","\uf002  Start searching a Career by id or name",1,"form-control","mt-4",3,"ngModel","keyup","ngModelChange"],["type","button","routerLink","/career/add",1,"btn","btn-primary","pull-right"],[1,"title"],[1,"table-responsive"],[1,"table","align-items-center","table-flush"],["colspan","5",4,"ngIf"],[4,"ngFor","ngForOf"],["class","aetrio-pagination",4,"ngIf"],["colspan","5"],[1,"alert","alert-dismissable",2,"text-align","center"],[4,"ngIf"],[2,"cursor","pointer",3,"routerLink"],["aria-hidden","true",1,"fa","fa-pencil-square-o"],[2,"cursor","pointer","padding-left","15px",3,"click"],["aria-hidden","true",1,"fa","fa-trash-o"],["style","cursor:pointer;padding-left: 15px;","target","_blank",3,"href",4,"ngIf"],["target","_blank",2,"cursor","pointer","padding-left","15px",3,"href"],[1,"aetrio-pagination"],[3,"initialPage","count","changePage"],["pagination",""]],template:function(t,a){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"div",2),e.qZA()(),e.TgZ(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"h3",8),e._uU(9,"Career List"),e.qZA()(),e.TgZ(10,"div",9)(11,"div",4)(12,"div",10)(13,"input",11),e.NdJ("keyup",function(){return a.searchCareer()})("ngModelChange",function(n){return a.searchText=n}),e.qZA()(),e.TgZ(14,"div",10)(15,"button",12),e._uU(16,"Add Career"),e.qZA()()(),e.TgZ(17,"div",10),e._UZ(18,"h4",13),e.qZA()(),e.TgZ(19,"div",14)(20,"table",15)(21,"thead")(22,"tr")(23,"th"),e._uU(24,"SL No"),e.qZA(),e.TgZ(25,"th"),e._uU(26,"First Name"),e.qZA(),e.TgZ(27,"th"),e._uU(28,"Last Name"),e.qZA(),e.TgZ(29,"th"),e._uU(30,"Email"),e.qZA(),e.TgZ(31,"th"),e._uU(32,"Mobile Number"),e.qZA(),e.TgZ(33,"th"),e._uU(34,"Created At"),e.qZA(),e.TgZ(35,"th"),e._uU(36,"Action"),e.qZA(),e.TgZ(37,"th"),e._uU(38,"Document"),e.qZA()()(),e.TgZ(39,"tbody"),e.YNc(40,S,3,0,"td",16),e.YNc(41,k,21,12,"tr",17),e.ALo(42,"filter"),e.qZA()(),e.YNc(43,E,3,2,"div",18),e.qZA()()()()()),2&t&&(e.xp6(13),e.Q6J("ngModel",a.searchText),e.xp6(27),e.Q6J("ngIf",a.msg_danger),e.xp6(1),e.Q6J("ngForOf",e.xi3(42,4,a.careerData,a.searchText)),e.xp6(2),e.Q6J("ngIf",a.totalRecord>0&&!a.searchText))},dependencies:[u.sg,u.O5,c.rH,c.yS,d.Fj,d.JJ,d.On,P.Q,u.uU,T.Z],styles:[".aetrio-pagination[_ngcontent-%COMP%]{display:inline-block;width:100%;text-align:center;background-color:#36aef5}.btn-primary[_ngcontent-%COMP%]{color:#fff;background-color:#423f3f;border-color:#423f3f}.title[_ngcontent-%COMP%]{font-size:30px}.box-title[_ngcontent-%COMP%]{font-size:60px}.cdis[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:15px}.cdis[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:10px}"]}),r})();var f=s(5826);const j=[{path:"add",component:v,canActivate:[f.a],data:{title:"add"}},{path:"view",component:Q,canActivate:[f.a]},{path:"edit/:id",component:v,canActivate:[f.a],data:{title:"edit"}}];let V=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[c.Bz.forChild(j),c.Bz]}),r})(),D=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[u.ez,V,h.JF,d.u5,d.UX,C.TA,Z.UM,A.JX,x.BlogModule,T.h]}),r})()}}]);