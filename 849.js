"use strict";(self.webpackChunkaetrio_dashboard_angular=self.webpackChunkaetrio_dashboard_angular||[]).push([[849],{8601:(w,T,d)=>{d.d(T,{Q:()=>f});var o=d(4650),b=d(6895);const g=function(t){return{active:t}};function A(t,u){if(1&t){const l=o.EpF();o.TgZ(0,"li",13)(1,"a",3),o.NdJ("click",function(){const _=o.CHM(l).$implicit,m=o.oxw(2);return o.KtG(m.setPage(_))}),o._uU(2),o.qZA()()}if(2&t){const l=u.$implicit,s=o.oxw(2);o.Q6J("ngClass",o.VKq(2,g,s.pager.currentPage===l)),o.xp6(2),o.Oqu(l)}}const h=function(t){return{disabled:t}};function q(t,u){if(1&t){const l=o.EpF();o.TgZ(0,"ul",1)(1,"li",2)(2,"a",3),o.NdJ("click",function(){o.CHM(l);const p=o.oxw();return o.KtG(p.setPage(1))}),o._UZ(3,"span",4),o.qZA()(),o.TgZ(4,"li",5)(5,"a",6),o.NdJ("click",function(){o.CHM(l);const p=o.oxw();return o.KtG(p.setPage(p.pager.currentPage-1))}),o._UZ(6,"span",7),o.qZA()(),o.YNc(7,A,3,4,"li",8),o.TgZ(8,"li",9)(9,"a",6),o.NdJ("click",function(){o.CHM(l);const p=o.oxw();return o.KtG(p.setPage(p.pager.currentPage+1))}),o._UZ(10,"span",10),o.qZA()(),o.TgZ(11,"li",11)(12,"a",3),o.NdJ("click",function(){o.CHM(l);const p=o.oxw();return o.KtG(p.setPage(p.pager.totalPages))}),o._UZ(13,"span",12),o.qZA()()()}if(2&t){const l=o.oxw();o.xp6(1),o.Q6J("ngClass",o.VKq(5,h,1===l.pager.currentPage)),o.xp6(3),o.Q6J("ngClass",o.VKq(7,h,1===l.pager.currentPage)),o.xp6(3),o.Q6J("ngForOf",l.pager.pages),o.xp6(1),o.Q6J("ngClass",o.VKq(9,h,l.pager.currentPage===l.pager.totalPages)),o.xp6(3),o.Q6J("ngClass",o.VKq(11,h,l.pager.currentPage===l.pager.totalPages))}}let f=(()=>{class t{constructor(){this.count=0,this.changePage=new o.vpe(!0),this.initialPage=1,this.pageSize=10,this.maxPages=10,this.limit=2,this.pager={}}ngOnInit(){this.count&&this.count>0&&this.setPage(this.initialPage)}ngOnChanges(l){l.count?.currentValue&&l.count?.previousValue&&l.count?.currentValue!==l.count?.previousValue&&this.setPage(this.initialPage)}paginate(l,s,p,_){void 0===s&&(s=1),void 0===p&&(p=10),void 0===_&&(_=10);var m=Math.ceil(l/p);let v,Z;if(s<1?s=1:s>m&&(s=m),m<=_)v=1,Z=m;else{var U=Math.floor(_/2),x=Math.ceil(_/2)-1;s<=U?(v=1,Z=_):s+x>=m?(v=m-_+1,Z=m):(v=s-U,Z=s+x)}var y=(s-1)*p,P=Math.min(y+p-1,l-1),k=Array.from(Array(Z+1-v).keys()).map(function(B){return v+B});return{totalItems:l,currentPage:s,pageSize:p,totalPages:m,startPage:v,endPage:Z,startIndex:y,endIndex:P,pages:k}}setPage(l,s){this.pager=this.paginate(this.count,l,this.pageSize,this.maxPages),s||this.changePage.emit(l)}}return t.\u0275fac=function(l){return new(l||t)},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-pagination"]],inputs:{count:"count",initialPage:"initialPage",pageSize:"pageSize",maxPages:"maxPages"},outputs:{changePage:"changePage"},features:[o.TTD],decls:1,vars:1,consts:[["class","pagination",4,"ngIf"],[1,"pagination"],[1,"page-item","first-item","pointer",3,"ngClass"],[1,"page-link","pointer",3,"click"],[1,"fa","fa-step-backward"],[1,"page-item","previous-item","pointer","re-mr-right",3,"ngClass"],[1,"page-link",3,"click"],[1,"fa","fa-chevron-left"],["class","page-item number-item pointer re-number",3,"ngClass",4,"ngFor","ngForOf"],[1,"page-item","next-item","pointer","re-mr-left",3,"ngClass"],[1,"fa","fa-chevron-right"],[1,"page-item","last-item","pointer",3,"ngClass"],[1,"fa","fa-step-forward"],[1,"page-item","number-item","pointer","re-number",3,"ngClass"]],template:function(l,s){1&l&&o.YNc(0,q,14,13,"ul",0),2&l&&o.Q6J("ngIf",s.pager.pages&&s.pager.pages.length&&s.count>s.limit)},dependencies:[b.mk,b.sg,b.O5],styles:[".pagination[_ngcontent-%COMP%]{display:inline-flex;justify-content:center;margin:20px 0;width:100%}.pagination[_ngcontent-%COMP%]   .re-mr-right[_ngcontent-%COMP%]{margin-right:50px}.pagination[_ngcontent-%COMP%]   .re-mr-left[_ngcontent-%COMP%]{margin-left:50px}.pagination[_ngcontent-%COMP%]   .re-number[_ngcontent-%COMP%]{margin:0 4px}.pagination[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{background-color:#01010b;color:#fff}.pagination[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{border:none;color:#01010b;border-radius:12px;margin:2px;font-weight:600}.page-item.next-item.pointer.re-mr-left.disabled[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%], .page-item.last-item.pointer.disabled[_ngcontent-%COMP%]   .page-link.pointer[_ngcontent-%COMP%]{pointer-events:none;background-color:#eee;color:#ccc}@media screen and (max-width: 768px){.pagination[_ngcontent-%COMP%], .pagination[_ngcontent-%COMP%]   li.page-item[_ngcontent-%COMP%]{display:inline-block}.pagination[_ngcontent-%COMP%]   .re-mr-right[_ngcontent-%COMP%]{margin-right:10px}.pagination[_ngcontent-%COMP%]   .re-mr-left[_ngcontent-%COMP%]{margin-left:10px}}"]}),t})()},6849:(w,T,d)=>{d.r(T),d.d(T,{BlogModule:()=>W});var o=d(6895),b=d(529),g=d(433),A=d(6913),h=d(9207),q=d(8567),f=d(8869),t=d(4650),u=d(2340),l=d(262),s=d(2843);let p=(()=>{class n{constructor(i){this.http=i,this.getTagDeta=e=>this.http.post(u.N.baseUrl+"/api/blog/viewtag",e).pipe((0,l.K)(r=>(0,s._)(r))),this.getAuthorData=e=>this.http.post(u.N.baseUrl+"/api/blog/getauthors",e,this.getRequestHeaders()).pipe((0,l.K)(r=>(0,s._)(r))),this.addBlog=e=>this.http.post(u.N.baseUrl+"/api/blog/addblog",e,this.getRequestHeaders()).pipe((0,l.K)(r=>(0,s._)(r))),this.getblogDetails=e=>this.http.post(u.N.baseUrl+"/api/blog/bloglisting",e,this.getRequestHeaders()).pipe((0,l.K)(r=>(0,s._)(r))),this.getblogWithId=e=>this.http.post(u.N.baseUrl+"/api/blog/getblogWithId",e,this.getRequestHeaders()).pipe((0,l.K)(r=>(0,s._)(r))),this.editBlogdata=(e,a)=>{let r=u.N.baseUrl+"/api/blog/editblogdata";return a&&(r+=`?id=${a}`),this.http.post(r,e,this.getRequestHeaders()).pipe((0,l.K)(C=>(0,s._)(C)))},this.deleteblog=e=>this.http.post(u.N.baseUrl+"/api/blog/deleteblog",e,this.getRequestHeaders()).pipe((0,l.K)(r=>(0,s._)(r))),this.getcommentDetails=e=>this.http.post(u.N.baseUrl+"/api/blog/getblogcomment",e,this.getRequestHeaders()).pipe((0,l.K)(r=>(0,s._)(r))),this.deletecomment=e=>this.http.post(u.N.baseUrl+"/api/blog/deletecomment",e,this.getRequestHeaders()).pipe((0,l.K)(r=>(0,s._)(r))),this.getInviteDetails=e=>this.http.post(u.N.baseUrl+"/api/blog/adminsideinvites",e,this.getRequestHeaders()).pipe((0,l.K)(r=>(0,s._)(r))),this.getInviteWithId=e=>this.http.post(u.N.baseUrl+"/api/blog/getinviteId",e,this.getRequestHeaders()).pipe((0,l.K)(r=>(0,s._)(r))),this.addInvite=e=>this.http.post(u.N.baseUrl+"/api/blog/addinvite",e,this.getRequestHeaders()).pipe((0,l.K)(r=>(0,s._)(r))),this.editInvitedata=(e,a)=>{let r=u.N.baseUrl+"/api/blog/editinvite";return a&&(r+=`?id=${a}`),this.http.post(r,e,this.getRequestHeaders()).pipe((0,l.K)(C=>(0,s._)(C)))},this.deleteinvite=e=>this.http.post(u.N.baseUrl+"/api/blog/deleteinvite",e,this.getRequestHeaders()).pipe((0,l.K)(r=>(0,s._)(r))),this.downloadInvites=()=>this.http.post(u.N.baseUrl+"/api/blog/downloadinvites",this.getRequestHeaders()).pipe((0,l.K)(a=>(0,s._)(a)))}getRequestHeaders(){let i;const e=localStorage.getItem("aetrio-token");return i=new b.WM({Authorization:`Bearer ${e}`}),{headers:i}}}return n.\u0275fac=function(i){return new(i||n)(t.LFG(b.eN))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var _=d(6570);const m=["uploader"];function v(n,c){if(1&n&&(t.TgZ(0,"div",53),t._uU(1),t.qZA()),2&n){const i=t.oxw();t.xp6(1),t.hij(" ",i.throw_msg," ")}}function Z(n,c){if(1&n&&(t.TgZ(0,"div",54),t._uU(1),t.qZA()),2&n){const i=t.oxw();t.xp6(1),t.hij(" ",i.throw_msg," ")}}function U(n,c){1&n&&(t.TgZ(0,"span",55),t._uU(1,"Blog Name is required"),t.qZA())}function x(n,c){if(1&n&&(t.TgZ(0,"option",56),t._uU(1),t.qZA()),2&n){const i=c.$implicit;t.s9C("value",i._id),t.xp6(1),t.Oqu(i.name)}}function y(n,c){1&n&&(t.TgZ(0,"span",55),t._uU(1,"Tag is required"),t.qZA())}function P(n,c){if(1&n&&(t.TgZ(0,"option",56),t._uU(1),t.qZA()),2&n){const i=c.$implicit;t.s9C("value",i._id),t.xp6(1),t.Oqu(i.name)}}function k(n,c){1&n&&(t.TgZ(0,"span",55),t._uU(1,"Author is required"),t.qZA())}function B(n,c){1&n&&(t.TgZ(0,"div",57),t._uU(1," Please Select Video And Image Both for Video Infographics Category "),t.qZA())}function J(n,c){if(1&n&&t._UZ(0,"img",58),2&n){const i=t.oxw();t.hYB("src","",i.imagePath,"",i.blogImage,"",t.LSH)}}function S(n,c){1&n&&(t.TgZ(0,"span",55),t._uU(1,"Featured is required"),t.qZA())}function F(n,c){1&n&&(t.TgZ(0,"span",55),t._uU(1,"Content Html is required"),t.qZA())}function Q(n,c){1&n&&(t.TgZ(0,"span",55),t._uU(1,"Meta Title is required"),t.qZA())}function K(n,c){1&n&&(t.TgZ(0,"span",55),t._uU(1,"Meta Keywords is required"),t.qZA())}function E(n,c){1&n&&(t.TgZ(0,"span",55),t._uU(1,"Meta Description is required"),t.qZA())}let I=(()=>{class n{constructor(i,e,a,r,C){this.formBuilder=i,this.router=e,this.route=a,this.blogService=r,this.toastr=C,this.videomsg=!1,this.submitted=!1,this.msg_success=!1,this.msg_danger=!1,this.isEdit="edit"===this.route.snapshot.data.title,this.editorConfig={editable:!0,spellcheck:!0,height:"auto",minHeight:"200px",maxHeight:"auto",width:"auto",minWidth:"0",translate:"yes",enableToolbar:!0,showToolbar:!0,placeholder:"Enter text here...",defaultParagraphSeparator:"",defaultFontName:"",defaultFontSize:"",fonts:[{class:"blog-descriptiondetail",name:"Rajdhani sans-serif"}]},this.hasError=($,X)=>this.addBlogForm.controls[$].hasError(X),this.uploadInput=new t.vpe,this.addBlogForm=this.formBuilder.group({name:["",g.kI.required],tag:["",g.kI.required],blog_category:[""],author:["",g.kI.required],video_link:[""],featured:["",g.kI.required],status:[!0,g.kI.required],content_html:["",g.kI.required],meta_description:["",g.kI.required],meta_title:["",g.kI.required],meta_keywords:["",g.kI.required]}),this.imagePath=u.N.baseUrl+"/public/"}ngOnInit(){this.id=this.route.snapshot.paramMap.get("id"),this.get_tagdata(),this.get_authordata(),this.isEdit&&this.patchingdata(this.id)}patchingdata(i){this.blogService.getblogWithId({id:i}).subscribe(a=>{if(200==a.code){let r=a?.result;this.blogImage=r?.image,this.addBlogForm.patchValue({name:r?.name,tag:r?.tag_list,blog_category:r?.category,author:r?.author,video_link:r?.video_link,featured:r?.featured,status:r?.status,content_html:r?.content,meta_description:r?.meta_description,meta_title:r?.meta_title,meta_keywords:r?.meta_keywords})}})}onSubmit(){this.submitted=!0;let i=this.addBlogForm.value,e=this.id;i.image=this.blogImage,!this.addBlogForm.invalid&&(this.isEdit?this.blogService.editBlogdata(i,e).subscribe(a=>{200==a.code?(this.toastr.successToastr(a.message),setTimeout(()=>{this.router.navigate(["/blog/view"])},2e3)):this.toastr.errorToastr(a.message)}):this.blogService.addBlog(i).subscribe(a=>{200==a.code?(this.toastr.successToastr(a.message),setTimeout(()=>{this.router.navigate(["/blog/view"])},2e3)):400==a.code&&this.toastr.errorToastr(a.message)}))}onUploadOutput(i){"allAddedToQueue"===i.type?this.uploadInput.emit({type:"uploadAll",url:u.N.baseUrl+"/api/home/addimage",method:"POST",data:{}}):"done"===i.type&&typeof i.file<"u"&&(this.blogImage=i.file.response.result)}get_tagdata(){this.blogService.getTagDeta({}).subscribe(i=>{200==i.code&&null!=i.result&&""!=i.result&&(this.tagData=i.result)})}get_authordata(){this.blogService.getAuthorData({}).subscribe(i=>{200==i.code&&null!=i.result&&""!=i.result&&(this.authorData=i.result)})}onChangeCategory(i){this.videomsg=2==i.target.value}onCancel(){this.router.navigate(["/blog/view"])}}return n.\u0275fac=function(i){return new(i||n)(t.Y36(g.qu),t.Y36(f.F0),t.Y36(f.gz),t.Y36(p),t.Y36(_.eP))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-add-blog"]],viewQuery:function(i,e){if(1&i&&t.Gf(m,5,t.SBq),2&i){let a;t.iGM(a=t.CRH())&&(e.fileInput=a.first)}},decls:122,vars:17,consts:[[1,"header","pb-8","pt-5","pt-lg-8","d-flex","align-items-center",2,"min-height","400px","background-size","cover","background-position","center top"],[1,"mask","bg-gradient-info","opacity-8"],[1,"container-fluid","d-flex","align-items-center"],[1,"row"],[1,"col-lg-7","col-md-10"],[1,"display-2","text-white"],[1,"text-white","mt-0","mb-5"],[1,"container-fluid","mt--7"],[1,"col-xl-12","order-xl-1"],[1,"card","bg-secondary","shadow"],[1,"card-header","bg-white","border-0"],[1,"row","align-items-center"],[1,"col-8"],[1,"mb-0"],["class","alert alert-success alert-dismissable","style","margin-left: 0;",4,"ngIf"],["class","alert alert-danger alert-dismissable","style","margin-left: 0;",4,"ngIf"],[1,"card-body"],["method","post","novalidate","",3,"formGroup","ngSubmit"],[1,"box-body"],[1,"form-group"],["for","exampleInputEmail1"],["type","text","name","name","autocomplete","off","formControlName","name","placeholder","Blog Name",1,"form-control"],["class","alert-danger",4,"ngIf"],["name","blog_category","formControlName","blog_category",1,"form-control",3,"change"],["value",""],["value","1"],["value","2"],["value","3"],["value","4"],["value","5"],["value","6"],["name","Tag","formControlName","tag","multiple","",1,"form-control"],[3,"value",4,"ngFor","ngForOf"],["name","author","formControlName","author",1,"form-control"],[1,"pixtar-ordiv"],["class","alert alert-danger","style","margin-left: 0;",4,"ngIf"],["type","text","name","video_link","autocomplete","off","formControlName","video_link","placeholder","Video Link",1,"form-control"],[1,"gslor"],["type","file","ngFileSelect","",3,"uploadInput","uploadOutput"],["uploader",""],["for","exampleInputEmail1",2,"display","block"],["alt","logo","style","height: 100px; width: 100px;",3,"src",4,"ngIf"],["name","featured","formControlName","featured",1,"form-control"],["value","true"],["value","false"],["name","content_html","formControlName","content_html",3,"config"],["type","text","name","meta_title","autocomplete","off","formControlName","meta_title","placeholder","Meta Title",1,"form-control"],["type","text","name","meta_keywords","autocomplete","off","formControlName","meta_keywords","placeholder","Meta Keywords",1,"form-control"],["name","meta_description","autocomplete","off","formControlName","meta_description","placeholder","Meta Description",1,"form-control"],["name","status","formControlName","status",1,"form-control"],[1,"box-footer"],["type","submit",1,"btn","btn-primary"],["type","cancel",1,"btn","btn-danger",3,"click"],[1,"alert","alert-success","alert-dismissable",2,"margin-left","0"],[1,"alert","alert-danger","alert-dismissable",2,"margin-left","0"],[1,"alert-danger"],[3,"value"],[1,"alert","alert-danger",2,"margin-left","0"],["alt","logo",2,"height","100px","width","100px",3,"src"]],template:function(i,e){1&i&&(t.TgZ(0,"div",0),t._UZ(1,"span",1),t.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"h1",5),t._uU(6,"Single Blog "),t.qZA(),t.TgZ(7,"p",6),t._uU(8,"This is your blog page. You can select author, tags and add/edit blog content you've and manage your blogs"),t.qZA()()()()(),t.TgZ(9,"div",7)(10,"div",3)(11,"div",8)(12,"div",9)(13,"div",10)(14,"div",11)(15,"div",12)(16,"h3",13),t._uU(17,"Edit Blog"),t.qZA()()(),t.YNc(18,v,2,1,"div",14),t.YNc(19,Z,2,1,"div",15),t.qZA(),t.TgZ(20,"div",16)(21,"form",17),t.NdJ("ngSubmit",function(){return e.onSubmit()}),t.TgZ(22,"div",18)(23,"div",19)(24,"label",20),t._uU(25,"Name"),t.qZA(),t._UZ(26,"input",21),t.YNc(27,U,2,0,"span",22),t.qZA(),t.TgZ(28,"div",19)(29,"label",20),t._uU(30,"Select Blog Category"),t.qZA(),t.TgZ(31,"select",23),t.NdJ("change",function(r){return e.onChangeCategory(r)}),t.TgZ(32,"option",24),t._uU(33,"Select Blog Category"),t.qZA(),t.TgZ(34,"option",25),t._uU(35,"Wind Turbines"),t.qZA(),t.TgZ(36,"option",26),t._uU(37,"Solar Panels"),t.qZA(),t.TgZ(38,"option",27),t._uU(39,"Battery Matrial"),t.qZA(),t.TgZ(40,"option",28),t._uU(41,"Hydro Plants"),t.qZA(),t.TgZ(42,"option",29),t._uU(43,"Charge Control"),t.qZA(),t.TgZ(44,"option",30),t._uU(45,"Fossil Resourc"),t.qZA()()(),t.TgZ(46,"div",19)(47,"label",20),t._uU(48,"Select Tag"),t.qZA(),t.TgZ(49,"select",31)(50,"option",24),t._uU(51,"Select Tag"),t.qZA(),t.YNc(52,x,2,2,"option",32),t.qZA(),t.YNc(53,y,2,0,"span",22),t.qZA(),t.TgZ(54,"div",19)(55,"label",20),t._uU(56,"Select Author"),t.qZA(),t.TgZ(57,"select",33)(58,"option",24),t._uU(59,"Select Author"),t.qZA(),t.YNc(60,P,2,2,"option",32),t.qZA(),t.YNc(61,k,2,0,"span",22),t.qZA(),t.TgZ(62,"div",34),t.YNc(63,B,2,0,"div",35),t.TgZ(64,"div",19)(65,"label",20),t._uU(66,"Video Link"),t.qZA(),t._UZ(67,"input",36),t.qZA(),t.TgZ(68,"div",37),t._uU(69," OR"),t.qZA(),t.TgZ(70,"div",19)(71,"label",20),t._uU(72,"Blog Image"),t.qZA(),t.TgZ(73,"input",38,39),t.NdJ("uploadOutput",function(r){return e.onUploadOutput(r)}),t.qZA(),t.TgZ(75,"label",40),t._uU(76,"(Required Size 514 * 554)"),t.qZA(),t.YNc(77,J,1,2,"img",41),t.qZA()(),t.TgZ(78,"div",19)(79,"label",20),t._uU(80,"Featured"),t.qZA(),t.TgZ(81,"select",42)(82,"option",24),t._uU(83,"Select Featured"),t.qZA(),t.TgZ(84,"option",43),t._uU(85,"Active"),t.qZA(),t.TgZ(86,"option",44),t._uU(87,"InActive"),t.qZA()(),t.YNc(88,S,2,0,"span",22),t.qZA(),t.TgZ(89,"div",19)(90,"label",20),t._uU(91,"Content Html"),t.qZA(),t._UZ(92,"angular-editor",45),t.YNc(93,F,2,0,"span",22),t.qZA(),t.TgZ(94,"div",19)(95,"label",20),t._uU(96,"Meta Title"),t.qZA(),t._UZ(97,"input",46),t.YNc(98,Q,2,0,"span",22),t.qZA(),t.TgZ(99,"div",19)(100,"label",20),t._uU(101,"Meta Keywords"),t.qZA(),t._UZ(102,"input",47),t.YNc(103,K,2,0,"span",22),t.qZA(),t.TgZ(104,"div",19)(105,"label",20),t._uU(106,"Meta Description"),t.qZA(),t._UZ(107,"textarea",48),t.YNc(108,E,2,0,"span",22),t.qZA(),t.TgZ(109,"div",19)(110,"label",20),t._uU(111,"Status"),t.qZA(),t.TgZ(112,"select",49)(113,"option",43),t._uU(114,"Active"),t.qZA(),t.TgZ(115,"option",44),t._uU(116,"Deactive"),t.qZA()()()(),t.TgZ(117,"div",50)(118,"button",51),t._uU(119,"Submit"),t.qZA(),t.TgZ(120,"button",52),t.NdJ("click",function(){return e.onCancel()}),t._uU(121,"Cancel"),t.qZA()()()()()()()()),2&i&&(t.xp6(18),t.Q6J("ngIf",e.msg_success),t.xp6(1),t.Q6J("ngIf",e.msg_danger),t.xp6(2),t.Q6J("formGroup",e.addBlogForm),t.xp6(6),t.Q6J("ngIf",e.submitted&&e.hasError("name","required")),t.xp6(25),t.Q6J("ngForOf",e.tagData),t.xp6(1),t.Q6J("ngIf",e.submitted&&e.hasError("tag","required")),t.xp6(7),t.Q6J("ngForOf",e.authorData),t.xp6(1),t.Q6J("ngIf",e.submitted&&e.hasError("author","required")),t.xp6(2),t.Q6J("ngIf",e.videomsg),t.xp6(10),t.Q6J("uploadInput",e.uploadInput),t.xp6(4),t.Q6J("ngIf",e.blogImage),t.xp6(11),t.Q6J("ngIf",e.submitted&&e.hasError("featured","required")),t.xp6(4),t.Q6J("config",e.editorConfig),t.xp6(1),t.Q6J("ngIf",e.submitted&&e.hasError("content_html","required")),t.xp6(5),t.Q6J("ngIf",e.submitted&&e.hasError("meta_title","required")),t.xp6(5),t.Q6J("ngIf",e.submitted&&e.hasError("meta_keywords","required")),t.xp6(5),t.Q6J("ngIf",e.submitted&&e.hasError("meta_description","required")))},dependencies:[o.sg,o.O5,g._Y,g.YN,g.Kr,g.Fj,g.EJ,g.K7,g.JJ,g.JL,g.sg,g.u,A.qx,h.s6]}),n})();var N=d(4417),D=d(8601),O=d(3189),Y=d(9972);function H(n,c){1&n&&(t.TgZ(0,"td",22)(1,"div",23),t._uU(2," Blog List is Empty "),t.qZA()())}function L(n,c){if(1&n){const i=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._UZ(4,"img",24),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td")(8,"a",25),t._uU(9,"Show Comment"),t.qZA()(),t.TgZ(10,"td"),t._uU(11),t.qZA(),t.TgZ(12,"td"),t._uU(13),t.ALo(14,"date"),t.qZA(),t.TgZ(15,"td")(16,"a",26),t._UZ(17,"i",27),t.qZA(),t.TgZ(18,"a",28),t.NdJ("click",function(){const r=t.CHM(i).$implicit,C=t.oxw();return t.KtG(C.deleteblog(r._id))}),t._UZ(19,"i",29),t.qZA()()()}if(2&n){const i=c.$implicit,e=t.oxw();t.xp6(2),t.Oqu(i.name),t.xp6(2),t.hYB("src","",e.imagePath,"",i.image,"",t.LSH),t.xp6(2),t.Oqu(i.tagsdata),t.xp6(2),t.MGl("routerLink","/comment/",i._id,""),t.xp6(3),t.Oqu(1==i.status?"Active":"Deactive"),t.xp6(2),t.Oqu(t.xi3(14,8,i.created_at,"dd/MMM/yyyy hh:mm a")),t.xp6(3),t.MGl("routerLink","/blog/edit/",i._id,"")}}function R(n,c){if(1&n){const i=t.EpF();t.TgZ(0,"div",30)(1,"app-pagination",31,32),t.NdJ("changePage",function(a){t.CHM(i);const r=t.oxw();return t.KtG(r.onListChangePage(a))}),t.qZA()()}if(2&n){const i=t.oxw();t.xp6(1),t.Q6J("initialPage",i.currentPage)("count",i.totalRecord)}}let V=(()=>{class n{constructor(i,e){this.router=i,this.blogService=e,this.msg_danger=!1,this.currentPage=1,this.initialized=!1,this.currentLimit=5,this.totalRecord=0,this.searchText="",this.config={value:!0,name:"",disabled:!1,height:25,width:90,margin:3,fontSize:10,speed:300,color:{checked:"#36aef5",unchecked:"#423f3f"},switchColor:{checked:"#3366FF",unchecked:"crimson"},labels:{unchecked:"Deactive",checked:"Active"},checkedLabel:"",uncheckedLabel:"",fontColor:{checked:"#fafafa",unchecked:"#ffffff"}},this.imagePath=u.N.baseUrl+"/public/"}ngOnInit(){this.get_blogData(),this.config.switchColor.checked="#dcdcdc",this.config.color.checked="#dcdcdc",this.config.labels.checked="Change",this.isactive="none"}get_blogData(){this.blogService.getblogDetails({limit:this.currentLimit,page:this.currentPage}).subscribe(e=>{200==e.code&&(null!=e.result&&""!=e.result?(this.blogData=e.result,this.totalRecord=e?.count):this.msg_danger=!0)})}onListChangePage(i){this.currentPage=i,this.get_blogData()}deleteblog(i){confirm("Are you sure to delete this blog")&&this.blogService.deleteblog({id:i}).subscribe(a=>{200==a.code&&(this.get_blogData(),this.router.navigate(["/blog/view"]))})}searchBlog(){this.searchText?(this.currentLimit=1e3,this.currentPage=1):this.currentLimit=10,this.get_blogData()}changeStatus(){"none"!=this.isactive?(this.config.switchColor.checked="#ffffff",this.config.color.checked="green",this.config.labels.checked="Active"):this.isactive?(this.isactive=!1,this.config.switchColor.unchecked="crimson",this.config.color.unchecked="#423f3f",this.config.labels.unchecked="Deactive"):this.isactive=!0}resetFilter(){this.config.switchColor.checked="#dcdcdc",this.config.color.checked="#dcdcdc",this.config.labels.checked="Change",this.config.switchColor.unchecked="#dcdcdc",this.config.color.unchecked="#dcdcdc",this.config.labels.unchecked="Change",this.isactive="none"}}return n.\u0275fac=function(i){return new(i||n)(t.Y36(f.F0),t.Y36(p))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-view-blog"]],decls:48,vars:20,consts:[[1,"header","bg-gradient-info","pb-8","pt-5","pt-md-8"],[1,"container-fluid"],[1,"header-body"],[1,"container-fluid","mt--7"],[1,"row"],[1,"col"],[1,"card","shadow"],[1,"card-header","border-0"],[1,"mb-0"],[1,"col-md-12","mb-4"],[1,"col-md-6"],["routerLink","/author/view",1,"btn","btn-primary",2,"margin-right","10px"],["routerLink","/tag/view",1,"btn","btn-primary"],["type","text","name","search","autocomplete","off","placeholder","\uf002  Start searching a Blog by id or name",1,"form-control","mt-4",3,"ngModel","keyup","ngModelChange"],["type","button","routerLink","/blog/add",1,"btn","btn-primary","pull-right"],[1,"table-responsive"],[1,"table","align-items-center","table-flush"],["required","",3,"ngModel","disabled","width","height","margin","labels","color","switchColor","fontColor","fontSize","ngModelChange","click"],[1,"btn","btn-sm","btn-info","mr-4",3,"click"],["colspan","6",4,"ngIf"],[4,"ngFor","ngForOf"],["class","aetrio-pagination",4,"ngIf"],["colspan","6"],[1,"alert","alert-dismissable",2,"text-align","center"],["alt","logo",2,"height","100px","width","100px",3,"src"],[3,"routerLink"],[2,"cursor","pointer",3,"routerLink"],["aria-hidden","true",1,"fa","fa-pencil-square-o"],[2,"cursor","pointer","padding-left","15px",3,"click"],["aria-hidden","true",1,"fa","fa-trash-o"],[1,"aetrio-pagination"],[3,"initialPage","count","changePage"],["pagination",""]],template:function(i,e){1&i&&(t.TgZ(0,"div",0)(1,"div",1),t._UZ(2,"div",2),t.qZA()(),t.TgZ(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"h3",8),t._uU(9,"Blog List"),t.qZA()(),t.TgZ(10,"div",9)(11,"div",4)(12,"div",10)(13,"button",11),t._uU(14,"Add Authors"),t.qZA(),t.TgZ(15,"button",12),t._uU(16,"Add Tags"),t.qZA(),t.TgZ(17,"input",13),t.NdJ("keyup",function(){return e.searchBlog()})("ngModelChange",function(r){return e.searchText=r}),t.qZA()(),t.TgZ(18,"div",10)(19,"button",14),t._uU(20,"Add Blog"),t.qZA()()()(),t.TgZ(21,"div",15)(22,"table",16)(23,"thead")(24,"tr")(25,"th"),t._uU(26,"Blog Name"),t.qZA(),t.TgZ(27,"th"),t._uU(28,"Blog Image"),t.qZA(),t.TgZ(29,"th"),t._uU(30,"Blog Tag"),t.qZA(),t.TgZ(31,"th"),t._uU(32,"View Comment"),t.qZA(),t.TgZ(33,"th"),t._uU(34,"Status "),t.TgZ(35,"ng-toggle",17),t.NdJ("ngModelChange",function(r){return e.isactive=r})("click",function(){return e.changeStatus()}),t.qZA(),t.TgZ(36,"a",18),t.NdJ("click",function(){return e.resetFilter()}),t._uU(37,"Reset"),t.qZA()(),t.TgZ(38,"th"),t._uU(39,"Created At"),t.qZA(),t.TgZ(40,"th"),t._uU(41,"Action"),t.qZA()()(),t.TgZ(42,"tbody"),t.YNc(43,H,3,0,"td",19),t.YNc(44,L,20,11,"tr",20),t.ALo(45,"activefilter"),t.ALo(46,"filter"),t.qZA()(),t.YNc(47,R,3,2,"div",21),t.qZA()()()()()),2&i&&(t.xp6(17),t.Q6J("ngModel",e.searchText),t.xp6(18),t.Q6J("ngModel",e.isactive)("disabled",e.config.disabled)("width",e.config.width)("height",e.config.height)("margin",e.config.margin)("labels",e.config.labels)("color",e.config.color)("switchColor",e.config.switchColor)("fontColor",e.config.fontColor)("fontSize",e.config.fontSize),t.xp6(8),t.Q6J("ngIf",e.msg_danger),t.xp6(1),t.Q6J("ngForOf",t.xi3(45,14,t.xi3(46,17,e.blogData,e.searchText),e.isactive)),t.xp6(3),t.Q6J("ngIf",e.totalRecord>0&&!e.searchText))},dependencies:[o.sg,o.O5,f.rH,f.yS,g.Fj,g.JJ,g.Q7,g.On,N.sX,D.Q,o.uU,O.Z,Y.L],styles:[".aetrio-pagination[_ngcontent-%COMP%]{display:inline-block;width:100%;text-align:center;background-color:#36aef5}.btn-primary[_ngcontent-%COMP%]{color:#fff;background-color:#423f3f;border-color:#423f3f}.title[_ngcontent-%COMP%]{font-size:30px}.box-title[_ngcontent-%COMP%]{font-size:60px}.cdis[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:15px}.cdis[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:10px}"]}),n})();var M=d(5826);const z=[{path:"add",component:I,canActivate:[M.a]},{path:"edit/:id",component:I,canActivate:[M.a],data:{title:"edit"}},{path:"view",component:V,canActivate:[M.a]}];let G=(()=>{class n{}return n.\u0275fac=function(i){return new(i||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[f.Bz.forChild(z),f.Bz]}),n})();var j=d(9771);let W=(()=>{class n{}return n.\u0275fac=function(i){return new(i||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[o.ez,G,b.JF,g.u5,g.UX,A.TA,h.UM,q.JX,O.h,N.zb,j.B]}),n})()},9972:(w,T,d)=>{d.d(T,{L:()=>b});var o=d(4650);let b=(()=>{class g{transform(h,q){return h&&"none"!=q?h.filter(f=>f.status==q):h}}return g.\u0275fac=function(h){return new(h||g)},g.\u0275pipe=o.Yjl({name:"activefilter",type:g,pure:!0}),g})()}}]);